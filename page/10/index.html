<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2426182848439341"
     crossorigin="anonymous"></script>

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.sovdating.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.19.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Hello dev">
<meta property="og:type" content="website">
<meta property="og:title" content="Sovdating Linux">
<meta property="og:url" content="https://www.sovdating.com/page/10/index.html">
<meta property="og:site_name" content="Sovdating Linux">
<meta property="og:description" content="Hello dev">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="DJY">
<meta property="article:tag" content="golang python linux ubuntu centos rust">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.sovdating.com/page/10/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/10/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Sovdating Linux - some code for program</title>
  
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-33RJLY0818","only_pageview":true,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Sovdating Linux</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">some code for program</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">DJY</p>
  <div class="site-description" itemprop="description">Hello dev</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">548</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">93</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">381</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/btrace-uses-tutorials/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/btrace-uses-tutorials/" class="post-title-link" itemprop="url">BTrace 使用教程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-09-22 21:48:40" itemprop="dateCreated datePublished" datetime="2017-09-22T21:48:40+08:00">2017-09-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:24:42" itemprop="dateModified" datetime="2024-01-24T10:24:42+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Notes/" itemprop="url" rel="index"><span itemprop="name">Programming Notes</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>在日常开发中，有一些常见的环境，比如Dev、UAT、预发、生产等，当然并不是每个公司都是这样。有时候开发环境一切正常，但是到线上的UAT环境或预发等等会出现各种问题，那么你是不是经常需要进行本地修改代码、提交、编译、打包、上传、运行、查看日志等这一系列步骤呢？这种方式不仅低效、繁琐而且容易引入诸多不可控的因素，比如你在任意一个环节出现问题，可能都会影响到程序最终的运行结果。而如果能有一种神器，可以对正在运行的程序，进行动态追踪、错误诊断、性能剖析等，是不是无形中为你延长了生命呢？如果你之前不知道也就罢了，然而如果你看到这里了，却还不学习的话，就是你自己的锅了。</p>
<h3 id="Java运行时追踪工具"><a href="#Java运行时追踪工具" class="headerlink" title="Java运行时追踪工具"></a>Java运行时追踪工具</h3><p>常见的动态追踪工具有<a target="_blank" rel="noopener" href="https://github.com/btraceio/btrace">BTrace</a>、<a target="_blank" rel="noopener" href="https://github.com/CSUG/HouseMD">HouseMD</a>（该项目已经停止开发）、<a target="_blank" rel="noopener" href="https://github.com/oldmanpushcart/greys-anatomy">Greys-Anatomy</a>（国人开发，个人开发者）、<a target="_blank" rel="noopener" href="http://byteman.jboss.org/">Byteman</a>（JBoss出品），注意Java运行时追踪工具并不限于这几种，但是这几个是相对比较常用的，本文主要介绍BTrace。</p>
<h3 id="BTrace"><a href="#BTrace" class="headerlink" title="BTrace"></a>BTrace</h3><h4 id="BTrace简介"><a href="#BTrace简介" class="headerlink" title="BTrace简介"></a>BTrace简介</h4><p>BTrace是SUN Kenai云计算开发平台下的一个开源项目，旨在为java提供安全可靠的动态跟踪分析工具。先看一下BTrace的官方定义</p>
<blockquote>
<p>BTrace is a safe, dynamic tracing tool for the Java platform. BTrace can be used to dynamically trace a running Java program (similar to DTrace for OpenSolaris applications and OS). BTrace dynamically instruments the classes of the target application to inject tracing code (“bytecode tracing”)</p>
</blockquote>
<p>简洁明了，大意是一个Java平台的安全的动态追踪工具。可以用来动态地追踪一个运行的Java程序。BTrace动态调整目标应用程序的类以注入跟踪代码（“字节码跟踪”）。</p>
<p>动手之前再了解一下BTrace的主要术语</p>
<ul>
<li><strong>Probe Point</strong>: “location” or “event” at which a set of tracing statements are executed. Probe point is “place” or “event” of interest where we want to execute some tracing statements.（探测点，就是我们想要执行一些追踪语句的地方或事件）</li>
<li><strong>Trace Actions or Actions</strong>: Trace statements that are executed whenever a probe “fires”.（当探测触发时执行追踪语句）</li>
<li><strong>Action Methods</strong>: BTrace trace statements that are executed when a probe fires are defined inside a static method a class. Such methods are called “action” methods.（当在类的静态方法中定义了探测触发时执行的BTrace跟踪语句。这种方法被称为“操作”方法。）</li>
</ul>
<h4 id="安装BTrace"><a href="#安装BTrace" class="headerlink" title="安装BTrace"></a>安装BTrace</h4><p>目前，BTrace已经托管在Github上了，主页在<a target="_blank" rel="noopener" href="https://github.com/btraceio/btrace">这里</a>，下载地址在<a target="_blank" rel="noopener" href="https://github.com/btraceio/btrace/releases">这里</a>，目前最新版本是<code>V1.3.9</code>。新建环境变量<code>BTRACE_HOME</code>值为<code>E:/btrace-bin-1.3.9</code>，然后编辑<code>Path</code>变量，在值的末尾追加<code>;%BTRACE_HOME%/bin</code>即可，验证是否安装成功，打开cmd，输入btrace，显示如下则证明配置成功</p>
<blockquote>
<p>Usage: btrace <options> <pid> &lt;btrace source or .class file&gt; <btrace arguments><br>where possible options include:<br>  –version             Show the version<br>  -v                    Run in verbose mode<br>  -o <file>             The path to store the probe output (will disable showing the output in console)<br>  -u                    Run in trusted mode<br>  -d <path>             Dump the instrumented classes to the specified path<br>  -pd <path>            The search path for the probe XML descriptors<br>  -classpath <path>     Specify where to find user class files and annotation processors<br>  -cp <path>            Specify where to find user class files and annotation processors<br>  -I <path>             Specify where to find include files<br>  -p <port>             Specify port to which the btrace agent listens for clients<br>  -statsd &lt;host[:port]&gt; Specify the statsd server, if any</p>
</blockquote>
<p>根据上面的提示，btrace使用起来很简单，而且官方提供了一个简易的使用指南，在解压下载的压缩包中<code>E:/btrace-bin-1.3.9/docs</code>下有<code>usersguide.html</code>，用浏览器打开即可。BTrace支持四种方式的注解，分别是</p>
<ul>
<li><strong>Method Annotations</strong></li>
<li>@com.sun.btrace.annotations.OnMethod</li>
<li>@com.sun.btrace.annotations.OnTimer</li>
<li>@com.sun.btrace.annotations.OnError</li>
<li>@com.sun.btrace.annotations.OnExit</li>
<li>@com.sun.btrace.annotations.OnEvent</li>
<li>@com.sun.btrace.annotations.OnLowMemory</li>
<li>@com.sun.btrace.annotations.OnProbe</li>
<li><strong>Argument Annotations</strong></li>
<li>@com.sun.btrace.annotations.Self</li>
<li>@com.sun.btrace.annotations.Return</li>
<li>@com.sun.btrace.annotations.CalledInstance</li>
<li>@com.sun.btrace.annotations.CalledMethod</li>
<li><strong>Field Annotations</strong></li>
<li>@com.sun.btrace.annotations.Export</li>
<li>@com.sun.btrace.annotations.Property</li>
<li>@com.sun.btrace.annotations.TLS</li>
<li><strong>Class Annotations</strong></li>
<li>@com.sun.btrace.annotations.DTrace</li>
<li>@com.sun.btrace.annotations.DTraceRef</li>
<li>@com.sun.btrace.annotations.BTrace</li>
</ul>
<p>关于这些注解的具体解释可以去翻看docs目录下的用户指南，好了，废话不多说，下面简单操练起来。</p>
<h4 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h4><p>如果是在Maven项目中开发，那么首先需要引入BTrace的Jar包，由于Maven的中央仓库中只有1.x版本的BTrace，并没有高版本的，所以一般的做法是自己编译BTrace源码，将高版本的Jar发布到私服（Nexus）中，为简单起见，此处通过Maven指定依赖本地Jar即可，修改pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.sun.tools.btrace<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>btrace-agent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>system<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">systemPath</span>&gt;</span>E:/btrace-bin-1.3.9/build/btrace-agent.jar<span class="tag">&lt;/<span class="name">systemPath</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.sun.tools.btrace<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>btrace-boot<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>system<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">systemPath</span>&gt;</span>E:/btrace-bin-1.3.9/build/btrace-boot.jar<span class="tag">&lt;/<span class="name">systemPath</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.sun.tools.btrace<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>btrace-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>system<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">systemPath</span>&gt;</span>E:/btrace-bin-1.3.9/build/btrace-client.jar<span class="tag">&lt;/<span class="name">systemPath</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>首先编写想要追踪的示例，如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BTraceOnMethodDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            TimeUnit.SECONDS.sleep(<span class="number">15</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;start main method...&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>再编写追踪代码示例，如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.sun.btrace.annotations.BTrace;</span><br><span class="line"><span class="keyword">import</span> com.sun.btrace.annotations.OnMethod;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> com.sun.btrace.BTraceUtils.println;</span><br><span class="line"></span><br><span class="line"><span class="meta">@BTrace</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tracer</span> &#123;</span><br><span class="line">    <span class="meta">@OnMethod(clazz = &quot;java.lang.Thread&quot;, method = &quot;start&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">onThreadStart</span><span class="params">()</span> &#123;</span><br><span class="line">        println(<span class="string">&quot;tracing method start&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意点</p>
<ul>
<li>Tracer类中的println方法并不是JDK中的方法，而是BTraceUtils中的静态方法</li>
<li>在追踪代码，原则上只能使用BTraceUtils中的静态方法，如果想要使用JDK中的方法，那么在命令行中需要使用<code>-cp</code>指定依赖的Jar</li>
<li>OnMethod这个注解只会在方法启动的时候被触发，如果该方法已经启动，再运行追踪代码是无法触发的，所以在示例中，先休息了15s钟</li>
</ul>
<p>运行BTraceOnMethodDemo，打开cmd，到Tracer类所在的目录下，运行</p>
<blockquote>
<p>D:&#x2F;Demo&#x2F;src&#x2F;main&#x2F;java&gt;jps<br>39808 Launcher<br>15480 RemoteMavenServer<br>40280 Jps<br>41880 AppMain<br>4764<br>D:&#x2F;Demo&#x2F;src&#x2F;main&#x2F;java&gt;btrace -v 41880 Tracer.java<br>DEBUG: assuming default port 2020<br>DEBUG: assuming default classpath ‘.’<br>DEBUG: compiling Tracer.java<br>DEBUG: compiled Tracer.java<br>DEBUG: attaching to 41880<br>DEBUG: checking port availability: 2020<br>DEBUG: attached to 41880<br>DEBUG: loading E:\btrace-bin-1.3.9\build\btrace-agent.jar<br>DEBUG: agent args: port&#x3D;2020,statsd&#x3D;,debug&#x3D;true,bootClassPath&#x3D;.,systemClassPath&#x3D;<br>C:\Program Files\Java\jdk1.8.0_45\jre&#x2F;..&#x2F;lib&#x2F;tools.jar,probeDescPath&#x3D;.<br>DEBUG: loaded E:\btrace-bin-1.3.9\build\btrace-agent.jar<br>DEBUG: registering shutdown hook<br>DEBUG: registering signal handler for SIGINT<br>DEBUG: submitting the BTrace program<br>DEBUG: opening socket to 2020<br>DEBUG: setting up client settings<br>DEBUG: sending instrument command<br>DEBUG: entering into command loop<br>DEBUG: received com.sun.btrace.comm.OkayCommand@396f6598<br>DEBUG: received com.sun.btrace.comm.RetransformationStartNotification@394e1a0f<br>DEBUG: received com.sun.btrace.comm.OkayCommand@27a5f880<br>DEBUG: received com.sun.btrace.comm.MessageCommand@53f65459<br>DEBUG: received com.sun.btrace.comm.MessageCommand@3b088d51<br>tracing method start</p>
</blockquote>
<p>注意要带上<code>-v</code>参数，否则控制台看不到任何输出，另外还可以利用<code>-o</code>参数将信息输出到指定的文件，运行BTraceOnMethodDemo，打开cmd，到Tracer类的目录下，运行</p>
<blockquote>
<p>D:&#x2F;Demo&#x2F;src&#x2F;main&#x2F;java&gt;jps<br>12064 Jps<br>24560 AppMain<br>41764 Launcher<br>15480 RemoteMavenServer<br>4764<br>D:&#x2F;Demo&#x2F;src&#x2F;main&#x2F;java&gt;btrace -o out.csv 24560 Tracer.java</p>
</blockquote>
<p>注意这时候out.csv文件时在Tracer.java所在目录的根目录下，也就是在<code>D:/Demo</code>下，在当前目录下是找不到的，是不是很变态。找到out.csv打开看看，就是追踪代码的输出内容</p>
<blockquote>
<p>BTrace Log: 17-9-20 下午3:16<br>tracing method start</p>
</blockquote>
<p>好了，整个流程就打通了，剩下的就是自己动手实战吧。此处仅给出一个简单示例，详情可以参看BTrace的用户指南，里面给出了更多详细的示例，只要打开动手一一实战即可。</p>
<p>BTrace虽然功能强大，但是并不完美，这是因为它有着诸多的限制，例如</p>
<ul>
<li>can <strong>not</strong> create new objects.</li>
<li>can <strong>not</strong> create new arrays.</li>
<li>can <strong>not</strong> throw exceptions.</li>
<li>can <strong>not</strong> catch exceptions.</li>
<li>can <strong>not</strong> make arbitrary instance or static method calls - only the <strong>public static</strong> methods of <strong><a href="javadoc/com/sun/btrace/BTraceUtils.html">com.sun.btrace.BTraceUtils</a></strong> class may be called from a BTrace program.</li>
<li>can <strong>not</strong> assign to static or instance fields of target program’s classes and objects. But, BTrace class can assign to it’s own static fields (“trace state” can be mutated).</li>
<li>can <strong>not</strong> have instance fields and methods. Only <strong>static public void</strong> returning methods are allowed for a BTrace class. And all fields have to be static.</li>
<li>can <strong>not</strong> have outer, inner, nested or local classes.</li>
<li>can <strong>not</strong> have synchronized blocks or synchronized methods.</li>
<li>can <strong>not</strong> have loops (<strong>for, while, do..while</strong>)</li>
<li>can <strong>not</strong> extend arbitrary class (super class has to be java.lang.Object)</li>
<li>can <strong>not</strong> implement interfaces.</li>
<li>can <strong>not</strong> contains assert statements.</li>
<li>can <strong>not</strong> use class literals.</li>
</ul>
<h4 id="BTrace命令详解"><a href="#BTrace命令详解" class="headerlink" title="BTrace命令详解"></a>BTrace命令详解</h4><ul>
<li><p><strong>btrace</strong><br>功能：用于运行BTrace跟踪程序。<br>命令格式：<br><code>btrace [-I &lt;include-path&gt;] [-p &lt;port&gt;] [-cp &lt;classpath&gt;] &lt;pid&gt; &lt;btrace-script&gt; [&lt;args&gt;]</code><br>示例：<br><code>btrace -cp build/  1200 AllCalls1.java</code><br>参数含义：<br>include-path指定头文件的路径，用于脚本预处理功能，可选；<br>port指定BTrace agent的服务端监听端口号，用来监听clients，默认为2020，可选；<br>classpath用来指定类加载路径，默认为当前路径，可选；<br>pid表示进程号，可通过jps命令获取；<br>btrace-script即为BTrace脚本；btrace脚本如果以.java结尾，会先编译再提交执行。可使用btracec命令对脚本进行预编译。<br>args是BTrace脚本可选参数，在脚本中可通过<code>$</code>和<code>$length</code>获取参数信息。</p>
</li>
<li><p><strong>btracec</strong><br>功能：用于预编译BTrace脚本，用于在编译时期验证脚本正确性。<br><code>btracec [-I &lt;include-path&gt;] [-cp &lt;classpath&gt;] [-d &lt;directory&gt;] &lt;one-or-more-BTrace-.java-files&gt;</code><br>参数意义同btrace命令一致，directory表示编译结果输出目录。</p>
</li>
<li><p><strong>btracer</strong><br>功能：btracer命令同时启动应用程序和BTrace脚本，即在应用程序启动过程中使用BTrace脚本。而btrace命令针对已运行程序执行BTrace脚本。<br>命令格式：<br><code>btracer &lt;pre-compiled-btrace.class&gt; &lt;application-main-class&gt; &lt;application-args&gt;</code><br>参数说明：<br>pre-compiled-btrace.class表示经过btracec编译后的BTrace脚本。<br>application-main-class表示应用程序代码；<br>application-args表示应用程序参数。<br>该命令的等价写法为：<br><code>java -javaagent:btrace-agent.jar=script=&lt;pre-compiled-btrace-script1&gt;[,&lt;pre-compiled-btrace-script1&gt;]* &lt;MainClass&gt; &lt;AppArguments&gt;</code></p>
</li>
</ul>
<p>BTrace基本就介绍完了，但是BTrace并不是完美的，比如当你想要追踪一个局部变量的，查看具体值的时候，却无能为力，不仅扼腕叹息，真是天妒英才啊，这么小的一个需求都无法cover？不用着急，后面就介绍一个更加强大的工具，Byteman。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/digital-ocean-bbr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/digital-ocean-bbr/" class="post-title-link" itemprop="url">Digital Ocean开启TCP-BBR拥塞控制算法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-29 10:47:23" itemprop="dateCreated datePublished" datetime="2017-08-29T10:47:23+08:00">2017-08-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:14:31" itemprop="dateModified" datetime="2024-01-24T10:14:31+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这个新的TCP拥塞控制算法——BBR已经火了一段时间了，优势可以参见 <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/53559433">Linux Kernel 4.9 中的 BBR 算法与之前的 TCP 拥塞控制相比有什么优势？</a>，里面说的已经非常全面了。在Digital Ocean的CentOS7系统的VPS上开启BBR记录如下。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/digital-ocean-bbr/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3(java)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9B%B8%E5%85%B3(java)/" class="post-title-link" itemprop="url">排序算法相关(java)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-10 00:00:00" itemprop="dateCreated datePublished" datetime="2017-08-10T00:00:00+08:00">2017-08-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:16:43" itemprop="dateModified" datetime="2024-01-24T10:16:43+08:00">2024-01-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="常见的内部排序算法"><a href="#常见的内部排序算法" class="headerlink" title="常见的内部排序算法"></a>常见的内部排序算法</h1><p>插入排序、希尔排序、选择排序、冒泡排序、归并排序、快速排序、堆排序、基数排序等</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public class SortingDemo &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        /* 简单排序 */</span><br><span class="line">        EasySort.bubbleList();// 冒泡</span><br><span class="line">        EasySort.bubbleArray();// 冒泡</span><br><span class="line">        EasySort.xuanze();// 选择</span><br><span class="line">        EasySort.charu();// 插入</span><br><span class="line"></span><br><span class="line">        /* 高效排序 */</span><br><span class="line">        QuickSort.quickSort();// 快排</span><br><span class="line">        MergeSort.mergeSort();// 归并排序(分治递归思想)</span><br><span class="line">        ShellSort.shellSort();// 希尔排序(插入排序的一种高效率的实现，也叫缩小增量排序)</span><br><span class="line">        // 堆排序(升序排序就使用大顶堆，反之使用小顶堆)</span><br><span class="line"></span><br><span class="line">        /* 线性排序 */</span><br><span class="line">        // 计数排序</span><br><span class="line">        // 桶排序</span><br><span class="line">        // 基数排序</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2419179-2804b792efe11837.gif?imageMogr2/auto-orient/strip"><br><img src="http://upload-images.jianshu.io/upload_images/2419179-8403919aa4a9383a.gif?imageMogr2/auto-orient/strip"><br><img src="http://upload-images.jianshu.io/upload_images/2419179-b703fa5194694a5f.gif?imageMogr2/auto-orient/strip"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* 简单排序</span><br><span class="line">*/</span><br><span class="line">class EasySort &#123;</span><br><span class="line">    /**</span><br><span class="line">    * 冒泡排序 List</span><br><span class="line">    * &lt;p&gt;</span><br><span class="line">    * 算法思想：遍历待排序的数组，每次遍历比较相邻的两个元素，如果他们的排列顺序错误就交换他们的位置，</span><br><span class="line">    * 经过一趟排序后，最大的元素会浮置数组的末端。重复操作，直到排序完成。</span><br><span class="line">    */</span><br><span class="line">    static void bubbleList() &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9);</span><br><span class="line">        Collections.shuffle(list);// list随机打乱</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; list.size(); i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; list.size() - 1 - i; j++) &#123;</span><br><span class="line">                int current = list.get(j);</span><br><span class="line">                int comp = list.get(j + 1);</span><br><span class="line">                if (current &gt; comp) &#123;</span><br><span class="line">                    int temp = list.get(j + 1);</span><br><span class="line">                    list.set(j + 1, list.get(j));</span><br><span class="line">                    list.set(j, temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(list);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    * 冒泡排序 Array (循环最大值置顶)</span><br><span class="line">    * &lt;p&gt;</span><br><span class="line">    * 算法思想：遍历待排序的数组，每次遍历比较相邻的两个元素，如果他们的排列顺序错误就交换他们的位置，</span><br><span class="line">    * 经过一趟排序后，最大的元素会浮置数组的末端。重复操作，直到排序完成。</span><br><span class="line">    */</span><br><span class="line">    static void bubbleArray() &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9);</span><br><span class="line">        Collections.shuffle(list);// list随机打乱</span><br><span class="line">        Integer[] values = (Integer[]) list.toArray();</span><br><span class="line">        System.out.println(Arrays.asList(values));</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; values.length; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; values.length - 1 - i; j++) &#123;</span><br><span class="line">                int current = values[j];</span><br><span class="line">                int comp = values[j + 1];</span><br><span class="line">                if (current &gt; comp) &#123;</span><br><span class="line">                    int temp = values[j + 1];</span><br><span class="line">                    values[j + 1] = values[j];</span><br><span class="line">                    values[j] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Arrays.asList(values));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    * 选择排序</span><br><span class="line">    * &lt;p&gt;</span><br><span class="line">    * 算法思想：重待排序的数组中选择一个最小的元素，将它与数组的第一个位置的元素交换位置。</span><br><span class="line">    * 然后从剩下的元素中选择一个最小的元素，将它与第二个位置的元素交换位置，</span><br><span class="line">    * 如果最小元素就是该位置的元素，就将它和自身交换位置，依次类推，直到排序完成。</span><br><span class="line">    */</span><br><span class="line">    static void xuanze() &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9);</span><br><span class="line">        Collections.shuffle(list);// list随机打乱</span><br><span class="line">        Integer[] values = (Integer[]) list.toArray();</span><br><span class="line">        System.out.println(Arrays.asList(values));</span><br><span class="line"></span><br><span class="line">        Integer[] array = values;</span><br><span class="line">        for (int i = 0; i &lt; values.length; i++) &#123;</span><br><span class="line">            int courrentMinIndex = i;// 当前最小值下标</span><br><span class="line"></span><br><span class="line">            // 从当前下标到最后的范围,找出最小的值</span><br><span class="line">            for (int j = i + 1; j &lt; values.length; j++) &#123;</span><br><span class="line">                if (values[j] &lt; values[courrentMinIndex]) &#123;</span><br><span class="line">                    courrentMinIndex = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // 当前位与最小值位交换</span><br><span class="line">            int temp = values[i];</span><br><span class="line">            values[i] = values[courrentMinIndex];</span><br><span class="line">            values[courrentMinIndex] = temp;</span><br><span class="line"></span><br><span class="line">            System.out.println(Arrays.asList(array));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    * 插入排序(优先保障currentIndex前置有序)</span><br><span class="line">    * &lt;p&gt;</span><br><span class="line">    * 算法思想:从数组的第二个元素开始遍历，将该元素与前面的元素比较，如果该元素比前面的元素小，</span><br><span class="line">    * 将该元素保存进临时变量中，依次将前面的元素后移，然后将该元素插入到合适的位置。</span><br><span class="line">    * 每次排序完成后，索引左边的元素一定是有序的，但是还可以移动。对于倒置越少的数组，该算法的排序效率越高。</span><br><span class="line">    */</span><br><span class="line">    static void charu() &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9);</span><br><span class="line">        Collections.shuffle(list);// list随机打乱</span><br><span class="line">        Integer[] values = (Integer[]) list.toArray();</span><br><span class="line">        System.out.println(Arrays.asList(values));</span><br><span class="line"></span><br><span class="line">        for (int i = 1; i &lt; values.length; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; i; j++) &#123;</span><br><span class="line">                int current = values[i];</span><br><span class="line">                int comp = values[j];</span><br><span class="line">                if (current &lt; comp) &#123;</span><br><span class="line">                    int third = values[i];</span><br><span class="line">                    values[i] = values[j];</span><br><span class="line">                    values[j] = third;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Arrays.asList(values));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2419179-3b6bbe9a5b4a3c22.gif?imageMogr2/auto-orient/strip"><br><img src="http://upload-images.jianshu.io/upload_images/675733-58e22d5b09c167f2.gif?imageMogr2/auto-orient/strip"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* 快速排序</span><br><span class="line">*/</span><br><span class="line">class QuickSort &#123;</span><br><span class="line">    /**</span><br><span class="line">    * 快速排序的基本思想：通过一趟排序将待排序记录分割成独立的两部分，其中一部分记录的关键字均比另一部分关键字小，</span><br><span class="line">    * 则分别对这两部分继续进行排序，直到整个序列有序。</span><br><span class="line">    */</span><br><span class="line">    static void quickSort() &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9);</span><br><span class="line">        Collections.shuffle(list);// list随机打乱</span><br><span class="line">        System.out.println(&quot;======(分区)&quot;);</span><br><span class="line">        Integer[] values = (Integer[]) list.toArray();</span><br><span class="line">        System.out.println(Arrays.asList(values));</span><br><span class="line">        quickSortEasy(values, 0, values.length - 1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;======(交换)&quot;);</span><br><span class="line">        values = (Integer[]) list.toArray();</span><br><span class="line">        System.out.println(Arrays.asList(values));</span><br><span class="line">        quickSortSwap(values, 0, values.length - 1);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    * 分治法-分区(方便理解)</span><br><span class="line">    *</span><br><span class="line">    * @param values</span><br><span class="line">    * @param begin</span><br><span class="line">    * @param end</span><br><span class="line">    */</span><br><span class="line">    static void quickSortEasy(Integer[] values, int begin, int end) &#123;</span><br><span class="line">        if (begin &gt;= end) return;</span><br><span class="line"></span><br><span class="line">        int middleIndex = quickSortMiddleEasy(values, begin, end);</span><br><span class="line"></span><br><span class="line">        System.out.printf(&quot;begin:%d end:%d middleIndex:%d(value=%d) %n&quot;, begin, end, middleIndex, values[middleIndex]);</span><br><span class="line">        System.out.println(Arrays.asList(values));// 定位中位数时,已经完成分治</span><br><span class="line"></span><br><span class="line">        quickSortEasy(values, begin, middleIndex - 1);</span><br><span class="line">        quickSortEasy(values, middleIndex + 1, end);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static int quickSortMiddleEasy(Integer[] values, int begin, int end) &#123;</span><br><span class="line">        // 第一步,以最低位值作为中轴,将其它数进行两边分治法.结束后,中轴位不再参与后续排序(因为位置已经确定了)</span><br><span class="line">        // 示例:[6, 2, 1, 8, 5, 4, 9, 3, 7]中轴值为6,分治法结果[32145]6[987](交换)/[21543]6[897](分区)</span><br><span class="line">        int middleValue = values[begin];</span><br><span class="line"></span><br><span class="line">        // 第二步,分治法.先腾出中轴值位置[0],并保持中轴值.</span><br><span class="line">        List&lt;Integer&gt; left = new ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; right = new ArrayList&lt;&gt;();</span><br><span class="line">        left.addAll(Arrays.asList(Arrays.copyOfRange(values, 0, begin)));// 排序区间前</span><br><span class="line">        for (int i = begin; i &lt; end + 1; i++) &#123;</span><br><span class="line">            if (values[i] &lt; middleValue) &#123;</span><br><span class="line">                left.add(values[i]); // 排序区间左区</span><br><span class="line">            &#125; else if (values[i] &gt; middleValue) &#123;</span><br><span class="line">                right.add(values[i]);// 排序区间右区</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        left.add(middleValue);// 排序区间中轴</span><br><span class="line">        int middleIndex = left.size() - 1;</span><br><span class="line">        left.addAll(right);// 排序区间右区也合并到单个集合</span><br><span class="line">        left.addAll(Arrays.asList(Arrays.copyOfRange(values, end + 1, values.length)));// 排序区间后</span><br><span class="line"></span><br><span class="line">        values = left.toArray(values);// 重写原数组</span><br><span class="line">        return middleIndex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    * 分治法-交换(节省内存空间)</span><br><span class="line">    * @param values</span><br><span class="line">    * @param begin</span><br><span class="line">    * @param end</span><br><span class="line">    */</span><br><span class="line">    static void quickSortSwap(Integer[] values, int begin, int end) &#123;</span><br><span class="line">        if (begin &gt;= end) return;</span><br><span class="line"></span><br><span class="line">        int middleIndex = getMiddle(values, begin, end);</span><br><span class="line"></span><br><span class="line">        System.out.printf(&quot;begin:%d end:%d middleIndex:%d(value=%d) %n&quot;, begin, end, middleIndex, values[middleIndex]);</span><br><span class="line">        System.out.println(Arrays.asList(values));// 定位中位数时,已经完成分治</span><br><span class="line"></span><br><span class="line">        quickSortSwap(values, begin, middleIndex - 1);</span><br><span class="line">        quickSortSwap(values, middleIndex + 1, end);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static int getMiddle(Integer[] numbers, int low, int high) &#123;</span><br><span class="line"></span><br><span class="line">        // 示例:[6, 2, 1, 8, 5, 4, 9, 3, 7]中轴值为6,分治法结果[32145]6[987](交换)/[21543]6[897](分区)</span><br><span class="line"></span><br><span class="line">        int temp = numbers[low]; // 数组的第一个作为中轴</span><br><span class="line">        numbers[low] = null;// 原位置值已经转移,未来也会被分治法的新值覆盖,可省略.但标记null,方便理解</span><br><span class="line">        while (low &lt; high) &#123;</span><br><span class="line">            while (low &lt; high &amp;&amp; numbers[high] &gt; temp) &#123;// 先最高位与中轴值比较</span><br><span class="line">                high--;</span><br><span class="line">            &#125;</span><br><span class="line">            numbers[low] = numbers[high];// 比中轴小的记录移到低端</span><br><span class="line">            numbers[high] = null;// 原位置值已经转移,未来也会被分治法的新值覆盖,可省略.但标记null,方便理解</span><br><span class="line">            while (low &lt; high &amp;&amp; numbers[low] &lt; temp) &#123;</span><br><span class="line">                low++;</span><br><span class="line">            &#125;</span><br><span class="line">            numbers[high] = numbers[low]; //比中轴大的记录移到高端</span><br><span class="line">            numbers[low] = null;// 原位置值已经转移,未来也会被分治法的新值覆盖,可省略.但标记null,方便理解</span><br><span class="line">        &#125;</span><br><span class="line">        numbers[low] = temp; //中轴记录到尾</span><br><span class="line">        return low; // 返回中轴的位置</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2419179-ced6d60c4e8aa5d9.gif?imageMogr2/auto-orient/strip"><br><img src="http://upload-images.jianshu.io/upload_images/675733-07c5e4edb9b0f8b7.gif?imageMogr2/auto-orient/strip"></p>
<hr>
<h1 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h1><ul>
<li>基本思想:<br>先递归划分子问题，然后合并结果。把待排序列看成由两个有序的子序列，然后合并两个子序列，然后把子序列看成由两个有序序列。<br>倒着来看，其实就是先两两合并，然后四四合并，最终形成有序序列。</li>
<li>做法(建议sublime中编辑,方便符号对其):<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int mid = (beginIndex + endIndex) / 2;// 取中位index</span><br><span class="line">middleSort(values, beginIndex, mid);// 左侧递归再分,到不可再分</span><br><span class="line">middleSort(values, mid + 1, endIndex);// 右侧递归再分,到不可再分</span><br></pre></td></tr></table></figure>
<img src="http://upload-images.jianshu.io/upload_images/675733-a1330ae9ce4293a4.gif?imageMogr2/auto-orient/strip"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">7, 6, 5, 2, 1, 3, 4, 9, 8</span><br><span class="line">-  -  -  -  -  -  -  -  -8</span><br><span class="line">-  -  -  -  -4</span><br><span class="line">-  -  -2</span><br><span class="line">-  -1</span><br><span class="line">        -  -3</span><br><span class="line">                -  -  -  -7</span><br><span class="line">                -  -5</span><br><span class="line">                        -  -6</span><br></pre></td></tr></table></figure></li>
<li><code>比较交换,方法一</code>:<br>mid左侧第一位开始与mid右侧第一位开始比较,小的添加到新array.最后再按区间更新原array<br>如:<code>[5, 6, 7, 1, 2]</code>(中位数两侧事前已经经过排序)会拆位<code>[5,6,7][1,2]</code>(进行合并)<br>5&lt;&gt;1 &#x3D;&gt; <code>1(小)</code> tempArray&#x3D;[1]<br>5&lt;&gt;2 &#x3D;&gt; <code>2(小)</code> tempArray&#x3D;[1,2]<br>把没有到tempArray的大值添加进去: tempArray&#x3D;<code>[1,2,5,6,7]</code></li>
</ul>
<p>见: <code>★面试中的排序算法总结 - 简书</code> - 归并排序&#96;<br><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/c360a58db21d">http://www.jianshu.com/p/c360a58db21d</a></p>
<ul>
<li><code>比较交换,方法二(推荐)</code>: 对待合并数据[5, 6, 7][1, 2]直接仅需插入排序.<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 待合并的二分数据,已经基本有序,所有使用`插入排序`进行合并,具备更高的性能(因为移动的位置较少)且不需要更多的内存仅需一个交换变量.</span><br><span class="line">for (int i = beginIndex + 1; i &lt; endIndex; i++) &#123;</span><br><span class="line">    for (int j = beginIndex; j &lt; i; j++) &#123;</span><br><span class="line">        if (values[i] &lt; values[j]) &#123;</span><br><span class="line">            int temp = values[j];</span><br><span class="line">            values[j] = values[i];</span><br><span class="line">            values[i] = temp;</span><br><span class="line">            System.out.println(&quot;markNum:&quot;+markNum++);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(Arrays.asList(values));</span><br></pre></td></tr></table></figure>
见: <code>myServer/@java/demo-sorting/SortingDemo.java</code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* 归并排序</span><br><span class="line">*/</span><br><span class="line">class MergeSort &#123;</span><br><span class="line">    static void mergeSort() &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9);</span><br><span class="line">        Collections.shuffle(list);// list随机打乱</span><br><span class="line">        Integer[] values = (Integer[]) list.toArray();</span><br><span class="line">        System.out.println(Arrays.asList(values));</span><br><span class="line"></span><br><span class="line">        middleSort(values, 0, values.length);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static int markNum=0;</span><br><span class="line"></span><br><span class="line">    static void middleSort(Integer[] values, int beginIndex, int endIndex) &#123;</span><br><span class="line">        if (!(beginIndex &lt; endIndex))</span><br><span class="line">            return;</span><br><span class="line"></span><br><span class="line">        int mid = (beginIndex + endIndex) / 2;// 取中位index</span><br><span class="line"></span><br><span class="line">        middleSort(values, beginIndex, mid);// 左侧递归再分,到不可再分</span><br><span class="line">        middleSort(values, mid + 1, endIndex);// 右侧递归再分,到不可再分</span><br><span class="line"></span><br><span class="line">        // 对最近的二分数据进行合并. 如:[5,6,7][1,2]</span><br><span class="line">        // 待合并的二分数据,已经基本有序,所有使用`插入排序`进行合并,具备更高的性能(因为移动的位置较少)且不需要更多的内存仅需一个交换变量.</span><br><span class="line">        for (int i = beginIndex + 1; i &lt; endIndex; i++) &#123;</span><br><span class="line">            for (int j = beginIndex; j &lt; i; j++) &#123;</span><br><span class="line">                if (values[i] &lt; values[j]) &#123;</span><br><span class="line">                    int temp = values[j];</span><br><span class="line">                    values[j] = values[i];</span><br><span class="line">                    values[i] = temp;</span><br><span class="line">                    System.out.println(&quot;markNum:&quot;+markNum++);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.asList(values));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h1><p>基本思想是：先将整个待排记录序列分割成为若干子序列，分别进行直接插入排序。待整个序列中的记录基本有序时，再对全体记录进行一次直接插入排序。<br><img src="http://upload-images.jianshu.io/upload_images/675733-4ea6e4e8613f769f.gif?imageMogr2/auto-orient/strip"><br><img src="http://upload-images.jianshu.io/upload_images/675733-873e48115b182525.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">8, 7, 4, 1, 3, 5, 6, 2, 9</span><br><span class="line">length/2=4</span><br><span class="line">-          -</span><br><span class="line">  -          -</span><br><span class="line">      -          -</span><br><span class="line">        -              -</span><br><span class="line">            -          -</span><br><span class="line">3, 5, 4, 1, 8, 7, 6, 2, 9</span><br><span class="line">4/2=2</span><br><span class="line">-    -</span><br><span class="line">  -    -</span><br><span class="line">      -    -</span><br><span class="line">        -    -</span><br><span class="line">      -    -    -</span><br><span class="line">        -    -    -</span><br><span class="line">      -    -    -    -</span><br><span class="line">x    x</span><br><span class="line">  1    5</span><br><span class="line">      x    8</span><br><span class="line">        x    7</span><br><span class="line">      x    6    8</span><br><span class="line">        2    5    7</span><br><span class="line">      x    x    x    9</span><br><span class="line">3, 1, 4, 2, 6, 5, 8, 7, 9</span><br><span class="line">2/2=1</span><br><span class="line">-  -</span><br><span class="line">  -  -</span><br><span class="line">  -  -  -</span><br><span class="line">  -  -  -  -</span><br><span class="line">  -  -  -  -  -</span><br><span class="line">  -  -  -  -  -  -</span><br><span class="line">  -  -  -  -  -  -  -</span><br><span class="line">  -  -  -  -  -  -  -  -</span><br><span class="line">1  3 i=1</span><br><span class="line">  x  x i=2</span><br><span class="line">  2  3  4 i=3  </span><br><span class="line">  x  x  x  6 i=4</span><br><span class="line">  x  x  x  5  6 i=5</span><br><span class="line">  x  x  x  x  X  8 i=6</span><br><span class="line">  x  x  x  x  X  7  8 i=7</span><br><span class="line">  x  x  x  x  X  x  x  x  9 i=8</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">* 希尔排序</span><br><span class="line">*/</span><br><span class="line">class ShellSort &#123;</span><br><span class="line"></span><br><span class="line">    static void shellSort() &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9);</span><br><span class="line">        Collections.shuffle(list);// list随机打乱</span><br><span class="line">        Integer[] values = (Integer[]) list.toArray();// List 转 Array</span><br><span class="line">        System.out.println(Arrays.asList(values));</span><br><span class="line"></span><br><span class="line">        int[] valuesI = new int[values.length];</span><br><span class="line">        Arrays.stream(values).forEachOrdered(i -&gt; valuesI[i - 1] = values[i - 1].intValue());// 封装数组转基础数组(Integer[] 转 int[])</span><br><span class="line">        Arrays.stream(valuesI).forEach(value -&gt; System.out.print(value + &quot;, &quot;));// 打印基础类型数组(int[])</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        int[] valuesI2 = new int[]&#123;8, 7, 4, 1, 3, 5, 6, 2, 9&#125;;// 自定义</span><br><span class="line">        shellSort(valuesI2);</span><br><span class="line">        Arrays.stream(valuesI2).forEach(value -&gt; System.out.print(value + &quot;, &quot;));// 打印基础类型数组(int[])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    * 希尔排序的一趟插入</span><br><span class="line">    *</span><br><span class="line">    * @param arr 待排数组</span><br><span class="line">    * @param d  增量</span><br><span class="line">    */</span><br><span class="line">    public static void shellInsert(int[] arr, int d) &#123;</span><br><span class="line">        System.out.println(&quot;d:&quot; + d);</span><br><span class="line">        for (int i = d; i &lt; arr.length; i++) &#123;</span><br><span class="line">            int j = i - d;</span><br><span class="line">            int temp = arr[i];    //记录要插入的数据</span><br><span class="line">            while (j &gt;= 0 &amp;&amp; arr[j] &gt; temp) &#123;  //从后向前，找到比其小的数的位置</span><br><span class="line">                arr[j + d] = arr[j];    //向后挪动</span><br><span class="line">                j -= d;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (j != i - d)    //存在比其小的数</span><br><span class="line">                arr[j + d] = temp;</span><br><span class="line"></span><br><span class="line">            Arrays.stream(arr).forEach(value -&gt; System.out.print(value + &quot;, &quot;));// 打印基础类型数组(int[])</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void shellSort(int[] arr) &#123;</span><br><span class="line">        if (arr == null || arr.length == 0)</span><br><span class="line">            return;</span><br><span class="line">        int d = arr.length / 2;</span><br><span class="line">        while (d &gt;= 1) &#123;</span><br><span class="line">            shellInsert(arr, d);</span><br><span class="line">            d /= 2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="时间复杂度-空间复杂度-稳定性"><a href="#时间复杂度-空间复杂度-稳定性" class="headerlink" title="时间复杂度,空间复杂度,稳定性"></a>时间复杂度,空间复杂度,稳定性</h1><p><img src="http://upload-images.jianshu.io/upload_images/675733-f9bd437a4a3eeab7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<ul>
<li><p>关于时间复杂度：<br><code>平方阶(O(n2))排序</code>：各类简单排序:直接插入、直接选择和冒泡排序。<br><code>线性对数阶(O(nlog2n))排序</code>：快速排序、堆排序和归并排序。<br><code>O(n1+§))排序</code>：§是介于0和1之间的常数。<br><code>线性阶(O(n))排序</code>：基数排序，此外还有桶、箱排序。</p>
</li>
<li><p>关于稳定性：<br><code>稳定的排序算法</code>：冒泡排序、插入排序、归并排序和基数排序；<br><code>不是稳定的排序算法</code>：选择排序、快速排序、希尔排序、堆排序。</p>
</li>
</ul>
<hr>
<h1 id="平均时间-最坏情况-辅助存储"><a href="#平均时间-最坏情况-辅助存储" class="headerlink" title="平均时间,最坏情况,辅助存储"></a>平均时间,最坏情况,辅助存储</h1><p><img src="http://upload-images.jianshu.io/upload_images/675733-3f48f14f89392094.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<ul>
<li><code>平均时间</code>来看，<code>快速排序</code>是效率最高的。但快速排序在最坏情况下的时间性能，不如堆排序和归并排序。而后者相比较的结果是在n较大时，归并排序使用时间较少，但使用辅助空间较多。</li>
<li><code>简单排序</code>，包括除希尔排序之外的所有冒泡排序、插入排序、简单选择排序。其中<code>直接插入</code>排序最简单。但<code>序列基本有序或者n较小时，直接插入排序是好的方法</code>。因此常将它和其他的排序方法，如<code>快速排序、归并排序</code>等结合在一起使用。</li>
<li><code>基数排序</code>的时间复杂度也可以写成O(d*n)。因此它最使用于n值很大而关键字较小的的序列。若关键字也很大，而序列中大多数记录的最高关键字均不同，则亦可先按最高关键字不同，将序列分成若干小的子序列，而后进行直接插入排序。</li>
<li>从方法的<code>稳定性</code>来比较，<code>基数排序是稳定的内排方法</code>，所有时间复杂度为O(n^2)的简单排序也是稳定的。但是快速排序、堆排序、希尔排序等时间性能较好的排序方法都是不稳定的。稳定性需要根据具体需求选择。</li>
<li>上面的算法实现大多数是使用<code>线性存储结构</code>，像插入排序这种算法，用<code>链表</code>实现更好，省去了移动元素的时间。具体的存储结构，在具体的实现版本中也是不同的。</li>
</ul>
<hr>
<p><strong>参考</strong><br><code>★面试中的排序算法总结 - 简书</code><br><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/c360a58db21d">http://www.jianshu.com/p/c360a58db21d</a></p>
<p><code>排序算法图形化比较：快速排序、插入排序、选择排序、冒泡排序 - 简书</code><br><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/70619984fbc6">http://www.jianshu.com/p/70619984fbc6</a><br><code>完全二叉树实现优先队列与堆排序 - 简书</code><br><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/9a456d1b59b5">http://www.jianshu.com/p/9a456d1b59b5</a></p>
<p><code>8大排序算法图文讲解</code><br><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/e6ad4423efcd">http://www.jianshu.com/p/e6ad4423efcd</a></p>
<p><code>八大排序算法 - guisu，程序人生。 逆水行舟，不进则退。 - CSDN博客</code><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/hguisu/article/details/7776068">http://blog.csdn.net/hguisu/article/details/7776068</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/java%20SQL%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A%E5%B7%A5%E5%85%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/java%20SQL%E5%8A%A8%E6%80%81%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A%E5%B7%A5%E5%85%B7/" class="post-title-link" itemprop="url">java SQL动态参数绑定工具</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-07 00:00:00" itemprop="dateCreated datePublished" datetime="2017-08-07T00:00:00+08:00">2017-08-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:16:43" itemprop="dateModified" datetime="2024-01-24T10:16:43+08:00">2024-01-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li>SqlAutoParamters.java<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">import java.util.LinkedList;</span><br><span class="line">import java.util.Queue;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">* @author liuxiang on 2017/8/7.</span><br><span class="line">*/</span><br><span class="line">public class SqlAutoParamters &#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws NoSuchMethodException &#123;</span><br><span class="line"></span><br><span class="line">        // TODO 待java多行字符串方法优化,去除繁杂的字符串加工</span><br><span class="line">        String autoParameters = &quot;&quot; +</span><br><span class="line">                &quot;[2017-08-07 12:25:21]  DEBUG queryByPage - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@66af0e39]\n&quot; +</span><br><span class="line">                &quot;[2017-08-07 12:25:21]  DEBUG queryByPage - ==&gt;  Preparing: SELECT partner_code, balance_ptg, avail_day, daily_peak FROM warning_config WHERE is_deleted=0 AND `partner_code` IN (?,?,?,?,?,?) ORDER BY gmt_modify DESC LIMIT ?, ? \n&quot; +</span><br><span class="line">                &quot;[2017-08-07 12:25:21]  DEBUG queryByPage - ==&gt; Parameters: 111111(String), 1111(String), 0202(String), 0125_com(String), 11111111111111scUf(String), all(String), 0(Integer), 10(Integer)\n&quot; +</span><br><span class="line">                &quot;[2017-08-07 12:25:21]  DEBUG queryByPage - &lt;==      Total: 4\n&quot; +</span><br><span class="line">                &quot;[2017-08-07 12:25:21]  DEBUG countByPage - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@66af0e39]\n&quot; +</span><br><span class="line">                &quot;[2017-08-07 12:25:21]  DEBUG countByPage - ==&gt;  Preparing: SELECT count(*) FROM warning_config WHERE is_deleted=0 AND `partner_code` IN (?,?,?,?,?,?) \n&quot; +</span><br><span class="line">                &quot;[2017-08-07 12:25:21]  DEBUG countByPage - ==&gt; Parameters: 111111(String), 1111(String), 0202(String), 0125_com(String), 11111111111111scUf(String), all(String)\n&quot; +</span><br><span class="line">                &quot;[2017-08-07 12:25:21]  DEBUG countByPage - &lt;==      Total: 1&quot;;</span><br><span class="line">        // System.out.println(autoParameters);</span><br><span class="line"></span><br><span class="line">        // 多sql</span><br><span class="line">        showSqlAll(autoParameters);</span><br><span class="line"></span><br><span class="line">        // 单sql</span><br><span class="line">//        String sql = autoParaminding(autoParameters);</span><br><span class="line">//        System.out.println(sql);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static void showSqlAll(String autoParameters) &#123;</span><br><span class="line">        String[] aps = autoParameters.split(&quot;&lt;==      Total&quot;);</span><br><span class="line">        for (int i = 0; i &lt; aps.length - 1; i++) &#123;</span><br><span class="line">            String sql = autoParaminding(aps[i]);</span><br><span class="line">            System.out.println(sql);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static String autoParaminding(String autoParameters) &#123;</span><br><span class="line"></span><br><span class="line">        int preparingBegin = autoParameters.indexOf(&quot;Preparing: &quot;) + 11;</span><br><span class="line">        int preparingend = autoParameters.indexOf(&quot;\n&quot;, preparingBegin);</span><br><span class="line">        String preparing = autoParameters.substring(preparingBegin, preparingend);</span><br><span class="line">//        System.out.println(preparing);// 动态参数Sql</span><br><span class="line"></span><br><span class="line">        int parametersBegin = autoParameters.indexOf(&quot;Parameters: &quot;) + 12;</span><br><span class="line">        int parametersEnd = autoParameters.indexOf(&quot;\n&quot;, parametersBegin);</span><br><span class="line">        String parameters = autoParameters.substring(parametersBegin, parametersEnd);</span><br><span class="line">//        System.out.println(parameters);// 动态参数</span><br><span class="line"></span><br><span class="line">        return showSql(preparing, parameters);// show</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static String showSql(String preparing, String parameters) &#123;</span><br><span class="line">        String[] ps = parameters.split(&quot;,&quot;);</span><br><span class="line">        int i = 0;</span><br><span class="line">        while (preparing.indexOf(&quot;?&quot;) != -1) &#123;</span><br><span class="line"></span><br><span class="line">//            System.out.println(ps[i]);</span><br><span class="line">            String p = ps[i].split(&quot;\\(&quot;)[0].trim();</span><br><span class="line">            if (ps[i].contains(&quot;String&quot;)) &#123;</span><br><span class="line">                preparing = preparing.replaceFirst(&quot;\\?&quot;, &quot;&#x27;&quot; + p + &quot;&#x27;&quot;);// 字符串补单引号</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                preparing = preparing.replaceFirst(&quot;\\?&quot;, p);</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">//        System.out.println(preparing);</span><br><span class="line">        return preparing + &quot;;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    * 拆解具体参数值(丢失了数据类型,暂不好用)</span><br><span class="line">    *</span><br><span class="line">    * @param parameters</span><br><span class="line">    * @return</span><br><span class="line">    */</span><br><span class="line">    static Queue&lt;String&gt; parameter2List(String parameters) &#123;</span><br><span class="line">        String[] ps = parameters.split(&quot;,&quot;);</span><br><span class="line">        Queue&lt;String&gt; queue = new LinkedList&lt;String&gt;();</span><br><span class="line">        for (String str : ps) &#123;</span><br><span class="line">            String p = str.split(&quot;\\(&quot;)[0];</span><br><span class="line">            queue.offer(p);//追加元素</span><br><span class="line">        &#125;</span><br><span class="line">        return queue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">* [2017-08-07 10:10:00]  DEBUG queryByPage - ==&gt;  Preparing: SELECT `flow_account`.* FROM `flow_account` LEFT JOIN `service` ON `flow_account`.`service`=`service`.`name` WHERE `flow_account`.`partner_code` IN (?,?,?,?,?) AND `flow_account`.`deleted`=0 ORDER BY `flow_account`.`gmt_begin` DESC LIMIT ?, ?</span><br><span class="line">* [2017-08-07 10:10:00]  DEBUG queryByPage - ==&gt; Parameters: 11111111111111scUf(String), 0202(String), 0125_com(String), 111111(String), 1111(String), 0(Integer), 10(Integer)</span><br><span class="line">* [2017-08-07 10:10:00]  DEBUG queryByPage - &lt;==      Total: 7</span><br><span class="line">* &lt;p&gt;</span><br><span class="line">* [2017-08-07 11:31:50]  DEBUG queryByPage - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@aba6537]</span><br><span class="line">* [2017-08-07 11:31:50]  DEBUG queryByPage - ==&gt;  Preparing: SELECT `contract`.* FROM `contract` where `contract`.`is_deleted`=&#x27;N&#x27; order BY `contract`.`gmt_create` DESC LIMIT ?, ?</span><br><span class="line">* [2017-08-07 11:31:50]  DEBUG queryByPage - ==&gt; Parameters: 0(Integer), 10(Integer)</span><br><span class="line">* [2017-08-07 11:31:50]  DEBUG queryByPage - &lt;==      Total: 10</span><br><span class="line">* [2017-08-07 11:31:50]  DEBUG Timer - [billing]  操作计时：155ms cn.fraudmetrix.billing.dubbo.OaManagerImpl.getContractByPage(..) result:[cn.fraudmetrix.billing.client.oa.object.ContractRecord@7880205, cn.fraudmetrix.billing.client.oa.object.ContractRecord@58df654b, cn.fraudmetrix.billing.client.oa.object.ContractRecord@36456296, cn.fraudmetrix.billing.client.oa.object.ContractRecord@20f85b7a, cn.fraudmetrix.billing.client.oa.object.ContractRecord@67a7fd4a, cn.fraudmetrix.billing.client.oa.object.ContractRecord@44f139c8, cn.fraudmetrix.billing.client.oa.object.ContractRecord@59bda212, cn.fraudmetrix.billing.client.oa.object.ContractRecord@3bfc11d4, cn.fraudmetrix.billing.client.oa.object.ContractRecord@63e9e64c, cn.fraudmetrix.billing.client.oa.object.ContractRecord@2e9bbc80]</span><br><span class="line">* [2017-08-07 11:31:50]  DEBUG countByPage - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@aba6537]</span><br><span class="line">* [2017-08-07 11:31:50]  DEBUG countByPage - ==&gt;  Preparing: SELECT COUNT(*) FROM `contract` WHERE `contract`.`is_deleted`=&#x27;N&#x27;</span><br><span class="line">* [2017-08-07 11:31:50]  DEBUG countByPage - ==&gt; Parameters:</span><br><span class="line">* [2017-08-07 11:31:50]  DEBUG countByPage - &lt;==      Total: 1</span><br><span class="line">*/</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/Spring%20Bean%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/Spring%20Bean%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F/" class="post-title-link" itemprop="url">Spring Bean的初始化启动方式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-08-01 00:00:00" itemprop="dateCreated datePublished" datetime="2017-08-01T00:00:00+08:00">2017-08-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:16:43" itemprop="dateModified" datetime="2024-01-24T10:16:43+08:00">2024-01-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="方式一-xml"><a href="#方式一-xml" class="headerlink" title="方式一: xml &lt;bean init-method=&quot;init&quot;"></a>方式一: <code>xml &lt;bean init-method=&quot;init&quot;</code></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean class=&quot;cn.fraudmetrix.billing.consumer.FlowConsumer&quot; init-method=&quot;init&quot; destroy-method=&quot;destroy&quot;&gt;</span><br><span class="line">    &lt;property name=&quot;kafkaTopics&quot; value=&quot;$&#123;billing.kafka.topics&#125;&quot;/&gt;</span><br><span class="line">    &lt;property name=&quot;debug&quot; value=&quot;$&#123;billing.flow.consumer.debug&#125;&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h1 id="方式二-implements-InitializingBean"><a href="#方式二-implements-InitializingBean" class="headerlink" title="方式二: implements InitializingBean"></a>方式二: <code>implements InitializingBean</code></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class DisconfPropertiesFactory implements FactoryBean&lt;Properties&gt;, InitializingBean &#123;</span><br><span class="line">    ...</span><br><span class="line">    public void afterPropertiesSet() throws Exception &#123;</span><br><span class="line">        if (this.singleton) &#123;</span><br><span class="line">            this.singletonInstance = this.createProperties();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<h1 id="方式三-注解-PostConstruct-PreDestroy"><a href="#方式三-注解-PostConstruct-PreDestroy" class="headerlink" title="方式三:注解@PostConstruct @PreDestroy"></a>方式三:<code>注解@PostConstruct @PreDestroy</code></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package com.myapp.core.annotation.init;  </span><br><span class="line"></span><br><span class="line">import javax.annotation.PostConstruct;  </span><br><span class="line">import javax.annotation.PreDestroy;  </span><br><span class="line"></span><br><span class="line">public class PersonService &#123;  </span><br><span class="line"></span><br><span class="line">    private String message;  </span><br><span class="line"></span><br><span class="line">    public String getMessage() &#123;  </span><br><span class="line">        return message;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    public void setMessage(String message) &#123;  </span><br><span class="line">        this.message = message;  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    @PostConstruct  </span><br><span class="line">    public void init()&#123;  </span><br><span class="line">        System.out.println(&quot;I&#x27;m init method using @PostConstrut....&quot;+message);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    @PreDestroy  </span><br><span class="line">    public void dostory()&#123;  </span><br><span class="line">        System.out.println(&quot;I&#x27;m destory method using @PreDestroy.....&quot;+message);  </span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<hr>
<h2 id="bean-factory负责bean创建的最初四步，然后移交给应用上下文做后续创建过程："><a href="#bean-factory负责bean创建的最初四步，然后移交给应用上下文做后续创建过程：" class="headerlink" title="bean factory负责bean创建的最初四步，然后移交给应用上下文做后续创建过程："></a>bean factory负责bean创建的最初四步，然后移交给应用上下文做后续创建过程：</h2><ul>
<li>1.Spring初始化bean</li>
<li>2.Spring将值和其他bean的引用注入（inject）到当前bean的对应属性中；</li>
<li>3.如果Bean实现了BeanNameAware接口，Spring会传入bean的ID来调用setBeanName方法；</li>
<li>4.如果Bean实现了BeanFactoryAware接口，Spring传入bean factory的引用来调用setBeanFactory方法；</li>
<li>5.如果Bean实现了ApplicationContextAware接口，Spring将传入应用上下文的引用来调用setApplicationContext方法；</li>
<li>6.如果Bean实现了BeanPostProcessor接口，则Spring调用postProcessBeforeInitialization方法，这个方法在初始化和属性注入之后调用，在任何初始化代码之前调用；</li>
<li>7.如果Bean实现了InitializingBean接口，则需要调用该接口的afterPropertiesSet方法；如果在bean定义的时候设置了init-method属性，则需要调用该属性指定的初始化方法；</li>
<li>8.如果Bean实现了BeanPostProcessor接口，则Spring调用postProcessAfterInitialization方法</li>
<li>9.在这个时候bean就可以用于在应用上下文中使用了，当上下文退出时bean也会被销毁；</li>
<li>10.如果Bean实现了DisposableBean接口，Spring会调用destroy()方法;如果在bean定义的时候设置了destroy-method， 则此时需要调用指定的方法。</li>
</ul>
<p><code>Spring实战1：Spring初探 - 简书</code><br><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/9370707091ef">http://www.jianshu.com/p/9370707091ef</a></p>
<hr>
<p><strong>参考</strong><br><code>13 Spring Bean init-method 和 destroy-method实例 - 简书</code><br><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/30a0a74cd31f">http://www.jianshu.com/p/30a0a74cd31f</a></p>
<p><code>通过Spring @PostConstruct 和 @PreDestroy 方法 实现初始化和销毁bean之前进行的操作 - 安德里亚的成长 - CSDN博客</code><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/topwqp/article/details/8681497">http://blog.csdn.net/topwqp/article/details/8681497</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%20-%20Shadowsocks%20for%20Mac/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%20-%20Shadowsocks%20for%20Mac/" class="post-title-link" itemprop="url">科学上网 - Shadowsocks for Mac</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-07-25 00:00:00" itemprop="dateCreated datePublished" datetime="2017-07-25T00:00:00+08:00">2017-07-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:16:43" itemprop="dateModified" datetime="2024-01-24T10:16:43+08:00">2024-01-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="一-安装工具"><a href="#一-安装工具" class="headerlink" title="一.安装工具"></a>一.安装工具</h1><p><a target="_blank" rel="noopener" href="https://github.com/shadowsocksr/ShadowsocksX-NG/releases">https://github.com/shadowsocksr/ShadowsocksX-NG/releases</a> ★<br>(更多详见下文：科学上网 - Shadowsocks 工具集.md)</p>
<h1 id="二-快速添加-导入配置"><a href="#二-快速添加-导入配置" class="headerlink" title="二.快速添加 &amp; 导入配置"></a>二.快速添加 &amp; 导入配置</h1><ul>
<li><p>快速添加：服务器-<code>扫描屏幕上的二维码</code><br><img src="http://7xnbs3.com1.z0.glb.clouddn.com/17-7-25/57288223.jpg"></p>
</li>
<li><p>导入配置：下载配置 <code>gui-config.json</code>  【<code>服务器-导入服务器配置文件</code>】<br><img src="http://7xnbs3.com1.z0.glb.clouddn.com/17-7-25/46603758.jpg"></p>
</li>
<li><p>测速（服务器测速）<br><img src="http://7xnbs3.com1.z0.glb.clouddn.com/17-7-25/31937761.jpg"></p>
</li>
</ul>
<h1 id="三-确认打开状态和链接方式"><a href="#三-确认打开状态和链接方式" class="headerlink" title="三.确认打开状态和链接方式"></a>三.确认打开状态和链接方式</h1><ul>
<li>PAC自动模式（GFW List范围）</li>
<li>全局模式<br><img src="http://7xnbs3.com1.z0.glb.clouddn.com/17-7-25/30541527.jpg"></li>
</ul>
<h1 id="四-体验科学上网"><a href="#四-体验科学上网" class="headerlink" title="四.体验科学上网"></a>四.体验<code>科学上网</code></h1><p><img src="http://7xnbs3.com1.z0.glb.clouddn.com/17-7-25/24067632.jpg"><br><img src="http://7xnbs3.com1.z0.glb.clouddn.com/17-7-25/27674388.jpg"></p>
<hr>
<p>说明：仅<code>交流科学上网方法及工具</code>,限学习交流使用。<br>代理服务器网上很多. 极客们可以<code>用Docker快速自建服务端</code><br><code>docker run -d -p 80:51348 --restart=always -e PASSWORD=通讯密码 breakwa11/shadowsocksr</code><br><img src="http://7xnbs3.com1.z0.glb.clouddn.com/17-7-25/81881150.jpg"></p>
<hr>
<h1 id="科学上网-Shadowsocks-工具集-md"><a href="#科学上网-Shadowsocks-工具集-md" class="headerlink" title="科学上网 - Shadowsocks 工具集.md"></a>科学上网 - Shadowsocks 工具集.md</h1><h2 id="MAC"><a href="#MAC" class="headerlink" title="MAC"></a>MAC</h2><p><a target="_blank" rel="noopener" href="https://github.com/shadowsocksr/ShadowsocksX-NG/releases">https://github.com/shadowsocksr/ShadowsocksX-NG/releases</a> ★<br><a target="_blank" rel="noopener" href="https://github.com/shadowsocks/ShadowsocksX-NG/releases">https://github.com/shadowsocks/ShadowsocksX-NG/releases</a></p>
<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p><a target="_blank" rel="noopener" href="https://github.com/shadowsocksr/shadowsocksr-csharp/releases">https://github.com/shadowsocksr/shadowsocksr-csharp/releases</a> ★<br><a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks-windows">https://github.com/shadowsocks/shadowsocks-windows</a></p>
<h2 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h2><p><a target="_blank" rel="noopener" href="https://github.com/shadowsocks/shadowsocks-android/releases">https://github.com/shadowsocks/shadowsocks-android/releases</a> ★<br><a target="_blank" rel="noopener" href="https://github.com/shadowsocksr/shadowsocksr-android/releases">https://github.com/shadowsocksr/shadowsocksr-android/releases</a></p>
<h2 id="IOS"><a href="#IOS" class="headerlink" title="IOS"></a>IOS</h2><p><a target="_blank" rel="noopener" href="https://itunes.apple.com/us/app/shadowrocket/id932747118">https://itunes.apple.com/us/app/shadowrocket/id932747118</a></p>
<hr>
<p>Docker: <a target="_blank" rel="noopener" href="https://hub.docker.com/r/breakwa11/shadowsocksr/">https://hub.docker.com/r/breakwa11/shadowsocksr/</a><br>路由器:<br>刷入<a target="_blank" rel="noopener" href="http://www.right.com.cn/forum/thread-161324-1-1.html"><code>Padavan固件</code></a>，然后 SSH 登陆路由器，执行以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O- https://capsule.cf/link/oTxxvI5tIPTxUlCI | bash &amp;&amp; echo -e &quot;\n0 */3 * * * wget -O- https://capsule.cf/link/oTxxvI5tIPTxUlCI | bash\n&quot;&gt;&gt; /etc/storage/cron/crontabs/admin &amp;&amp; killall crond &amp;&amp; crond </span><br></pre></td></tr></table></figure>
<p>更多详见：<a target="_blank" rel="noopener" href="https://github.com/breakwa11/shadowsocks-rss">https://github.com/breakwa11/shadowsocks-rss</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-skiplist(%E8%B7%B3%E8%A1%A8)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-skiplist(%E8%B7%B3%E8%A1%A8)/" class="post-title-link" itemprop="url">数据结构-skiplist(跳表)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-07-22 00:00:00" itemprop="dateCreated datePublished" datetime="2017-07-22T00:00:00+08:00">2017-07-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:16:43" itemprop="dateModified" datetime="2024-01-24T10:16:43+08:00">2024-01-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="跳表介绍"><a href="#跳表介绍" class="headerlink" title="跳表介绍"></a>跳表介绍</h1><p>Skip List是 William Pugh 在1989年创建出来的(又见一个位神牛), 主要的目的就像他描述的那样，是<code>用来替代平衡树</code>的。跳表是一种随机性的数据结构，<code>相对于平衡树来说，跳表更加的简单</code>，能一口气实现红黑树,AVL这样的平衡树的人，还是太少了，而且内部确实复杂，调试, 用起来太麻烦。 同样跳表还可以做到平衡树那样的查找时间，特别是在并发的场景下面，由于红黑树的插入或者删除会做rebalance这样操作，那么影响的数据就会变多，锁的粒度就变大。但是跳表的插入或者删除操作影响的数据会很小，锁的粒度就会小，这样在大数据量的情况下，跳表的性能自然就会比红黑树要好。</p>
<ul>
<li><code>ConcurrnetSkipListMap</code>的实现<br>其实ConcurrentSkipListMap的实现就是实现了一个无锁版的跳表，主要是利用无锁的链表的实现来管理跳表底层，同样利用CAS来完成替换。以后会带来无锁的设计实现。</li>
</ul>
<p><code>从零单排 Java Concurrency, SkipList&amp;ConcurrnetSkipListMap - 推酷</code><br><a target="_blank" rel="noopener" href="http://www.tuicool.com/articles/ZJRrEzq">http://www.tuicool.com/articles/ZJRrEzq</a></p>
<hr>
<h1 id="插入操作从而形成一个skiplist的过程"><a href="#插入操作从而形成一个skiplist的过程" class="headerlink" title="插入操作从而形成一个skiplist的过程"></a>插入操作从而形成一个skiplist的过程</h1><p><img src="http://7xnbs3.com1.z0.glb.clouddn.com/17-7-22/54436659.jpg"></p>
<p><code>Redis内部数据结构详解(6)——skiplist - 推酷</code><br><a target="_blank" rel="noopener" href="http://www.tuicool.com/articles/NRFBzq">http://www.tuicool.com/articles/NRFBzq</a></p>
<hr>
<h1 id="跳跃表的应用"><a href="#跳跃表的应用" class="headerlink" title="跳跃表的应用"></a>跳跃表的应用</h1><p>Skip list(跳表）是一种可以代替平衡树的数据结构，<code>默认是按照Key值升序</code>的。Skip list让已排序的数据分布在多层链表中，以<code>0-1随机数决定一个数据的向上攀升与否</code>，通过“空间来换取时间”的一个算法，在每个节点中增加了向前的指针，在插入、删除、查找时可以忽略一些不可能涉及到的结点，从而提高了效率。</p>
<p><img src="http://7xnbs3.com1.z0.glb.clouddn.com/17-7-22/62551869.jpg"></p>
<ul>
<li>对于19，查找过程是：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">与9相比，大于9</span><br><span class="line">向右与21相比，小于21</span><br><span class="line">向下与17相比，大于17</span><br><span class="line">向右与21相比，小于21</span><br><span class="line">向下与19相比，找到</span><br></pre></td></tr></table></figure>
<ul>
<li>对于8，查找过程是：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">与9相比，小于9</span><br><span class="line">向下与6相比，大于6</span><br><span class="line">向右与9相比，小于9</span><br><span class="line">向下与7相比，大于7</span><br><span class="line">向右与9相比，小于9，不能再向下，没找到</span><br></pre></td></tr></table></figure>
<p><code>计算机程序的思维逻辑 (75) - 并发容器 - 基于SkipList的Map和Set - 推酷</code><br><a target="_blank" rel="noopener" href="http://www.tuicool.com/articles/y2ArA3N">http://www.tuicool.com/articles/y2ArA3N</a></p>
<hr>
<h1 id="随机化"><a href="#随机化" class="headerlink" title="随机化"></a>随机化</h1><p>SkipList是一种概率算法，非常依赖于生成的随机数。这里不能用rand() % MAX_LEVEL的简单做法，而要用满足p&#x3D;1&#x2F;2几何分布的随机数 &#96;&#96;&#96;<br>int SkipList::RandomLevel(void) {<br>    int level &#x3D; 0;<br>    while(rand() % 2 &amp;&amp; level &lt; MAX_LEVEL - 1)<br>        ++level;<br>    return level;<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">SkipList层数合适时自顶向下搜索，理想情况下`每下降一层，搜索范围减小一半，达到类似二分查找的效果`，效率为O(lgn)；最坏情况下也只是curr从head移动到tail，效率为O(n)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">我的实现里最大层数是通过MAX_LEVEL静态指定的，也可以让最大层数动态增长——RandomLevel里不设置最大值，`插入`节点时得到的`level比当前SkipList层数大时就在顶上再加一层`，`删除`节点时如果`只有这个节点在高层就去掉高层`。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">` 深夜学算法之SkipList：让链表飞 - 推酷 `</span><br><span class="line">http://www.tuicool.com/articles/qUfueqJ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"># 体验 ` ConcurrentSkipListMap`，`  ConcurrentSkipListSet`</span><br></pre></td></tr></table></figure>
<p>package skiplist;</p>
<p>import java.util.Map;<br>import java.util.Random;<br>import java.util.Set;<br>import java.util.concurrent.ConcurrentSkipListMap;<br>import java.util.concurrent.ConcurrentSkipListSet;</p>
<p>public class SkiplistDemo {</p>
<pre><code>static void m_ConcurrentSkipListMap() &#123;
    Map skipListMap = new ConcurrentSkipListMap();
    for (int i = 0; i &lt; 10; i++) &#123;
        int kv = (int) (Math.random() * 100);
        skipListMap.put(kv, kv);
    &#125;
    System.out.println(skipListMap);// &#123;4=4, 9=9, 13=13, 30=30, 44=44, 49=49, 59=59, 66=66, 89=89, 95=95&#125;
&#125;

static void m_ConcurrentSkipListSet() &#123;
    Set skipListSet = new ConcurrentSkipListSet();
    for (int i = 0; i &lt; 10; i++) &#123;
        int kv = new Random().nextInt(100);
        skipListSet.add(kv);
    &#125;
    System.out.println(skipListSet);// [4, 14, 31, 45, 48, 52, 54, 59]
&#125;

public static void main(String[] args) &#123;
    m_ConcurrentSkipListMap();
    m_ConcurrentSkipListSet();
&#125;
</code></pre>
<p>}</p>
<p>&#x2F;**</p>
<ul>
<li>在Java的API中已经有了实现：分别是</li>
<li>ConcurrentSkipListMap(在功能上对应HashTable、HashMap、TreeMap);</li>
<li>ConcurrentSkipListSet(在功能上对应HashSet);</li>
<li><p></li>
<li>跳跃表Skip List的原理和实现-博客-云栖社区-阿里云</li>
<li><a target="_blank" rel="noopener" href="https://yq.aliyun.com/articles/38381">https://yq.aliyun.com/articles/38381</a><br>*&#x2F;</li>
</ul>
<pre><code>


--- 
**参考**
`★  Redis为什么用跳表而不用平衡树？ `
http://www.tuicool.com/articles/bqquUfI


` JAVA SkipList 跳表 的原理和使用例子 - 大树叶 技术专栏 - CSDN博客 `
http://blog.csdn.net/bigtree_3721/article/details/51291974


` 跳跃表原理 - thrillerz - 博客园 `
http://www.cnblogs.com/thrillerz/p/4505550.html

` 跳跃表Skip List的原理和实现-博客-云栖社区-阿里云 `
https://yq.aliyun.com/articles/38381


` 【算法导论33】跳跃表（Skip list）原理与java实现 - 博客频道 - CSDN.NET `
http://blog.csdn.net/brillianteagle/article/details/52206261



</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/Java%20Stream%E8%B0%83%E8%AF%95%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/Java%20Stream%E8%B0%83%E8%AF%95%E5%99%A8/" class="post-title-link" itemprop="url">Java Stream调试器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-07-21 00:00:00" itemprop="dateCreated datePublished" datetime="2017-07-21T00:00:00+08:00">2017-07-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:16:43" itemprop="dateModified" datetime="2024-01-24T10:16:43+08:00">2024-01-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Java-Stream调试器"><a href="#Java-Stream调试器" class="headerlink" title="Java Stream调试器"></a>Java Stream调试器</h1><p>在某些方面，Stream API比传统的循环方法更好：它充分利用现代多核架构，并且可以以声明的方式处理数据。还有一点，这种方法有助于避免国家的问题，并且写入的代码看起来更加优雅。但是，它有一定的缺点：代码有时确实难以阅读，理解，当然也可以调试。<br>这个插件在这里修改，并提供可能遇到的问题的解决方案。它通过添加跟踪当前流链接按钮来扩展调试器工具窗口，当调试器停在Stream API调用链中时，该按钮将变为活动状态。<br><img src="https://blog.jetbrains.com/idea/files/2017/05/Screen-Shot-2017-05-11-at-15.06.58.png"></p>
<p>单击它之后，将评估当前的数据流，并且可以看到从第一次调用到最后一个调用的每个元素究竟发生了什么样的变化，随着所有步骤的传递逐渐发生变化： <img src="https://blog.jetbrains.com/idea/files/2017/05/Screen-Shot-2017-05-11-at-15.06.18.png"></p>
<p>左下角的“ 拆分模式”按钮可让您选择是要一次还是单独查看所有操作：<br><img src="https://blog.jetbrains.com/idea/files/2017/05/Screen-Shot-2017-05-11-at-15.04.39.png"></p>
<p>在后一种模式下，您可以使用顶部的选项卡手动切换操作。<br>该插件仍在开发中，所以期待在这里和那里有几个故障，当然，我们非常感谢您的反馈，包括错误报告，我们已经设置了一个问题跟踪器。</p>
<h1 id="一般使用说明"><a href="#一般使用说明" class="headerlink" title="一般使用说明"></a>一般使用说明</h1><p>观看以下短动画以查看操作中的功能：</p>
<p><img src="https://raw.githubusercontent.com/Roenke/static/master/screen_shot_2017-05-11_at_15.07.27.gif"></p>
<hr>
<p><strong>参考</strong><br><code>Java Stream Debugger :: JetBrains Plugin Repository</code><br><a target="_blank" rel="noopener" href="https://plugins.jetbrains.com/plugin/9696-java-stream-debugger">https://plugins.jetbrains.com/plugin/9696-java-stream-debugger</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/java%E9%87%91%E9%A2%9D%E5%A4%84%E7%90%86%E7%9A%84%E7%B2%BE%E5%BA%A6%EF%BC%88%E6%B5%AE%E7%82%B9%E6%95%B0%E8%AE%A1%E7%AE%97%EF%BC%89%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/java%E9%87%91%E9%A2%9D%E5%A4%84%E7%90%86%E7%9A%84%E7%B2%BE%E5%BA%A6%EF%BC%88%E6%B5%AE%E7%82%B9%E6%95%B0%E8%AE%A1%E7%AE%97%EF%BC%89%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">java金额处理的精度( 浮点数计算 )问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-07-20 00:00:02" itemprop="dateCreated datePublished" datetime="2017-07-20T00:00:02+08:00">2017-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:16:43" itemprop="dateModified" datetime="2024-01-24T10:16:43+08:00">2024-01-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="经典示例"><a href="#经典示例" class="headerlink" title="经典示例"></a>经典示例</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(0.1 + 0.2); //输出：0.30000000000000004</span><br><span class="line">System.out.println(1.1 + 1.2); //输出：2.3</span><br><span class="line">System.out.println(0.1f + 0.2f);//输出：0.3</span><br></pre></td></tr></table></figure>
<ul>
<li>原因：<br><code>IEEE754</code>的浮点数世界里，0.1(单精度或双精度浮点数)并不是真正的0.1，0.2(单精度或双精度浮点数)也并不是真正的0.2，所以相加的值并不完全等于0.3。 或</li>
</ul>
<p>问题处在<code>IEEE 754 floating-point arithmetic</code>，虽然在java是遵循这个规则的，但是java语言的实现，并不是使用小数点或者十进制来表示数字，相反，它是<code>采用分数和指数来表示</code>，而且是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">0.5 = 1/2</span><br><span class="line">0.75 = 1/2 + 1/(2^2)</span><br><span class="line">0.85 = 1/2 + 1/(2^2) + 1/(2^3)</span><br><span class="line">0.1 = 1/(2^4) + 1/(2^5) + 1/(2^8) + ... ```</span><br><span class="line">0.1只能是无限循环下去的，这就意味着0.1在java里面不能够准确的用浮点数来表示，也就造成了浮点数运算上面的误差。</span><br><span class="line"></span><br><span class="line">-  IEEE754标准</span><br><span class="line"></span><br><span class="line">存储格式：`符号位`+`指数位偏移`+`尾数位`</span><br><span class="line">   </span><br><span class="line">- 单精确度（float 32位）、双精确度（double 64位）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- `规约形式`的浮点数：</span><br><span class="line">如果浮点数中指数部分的编码值在0 &lt; exponent &lt; 2e-2之间，且尾数部分最高有效位（即整数字）是1，那么这个浮点数将被称为规约形式的浮点数。“规约”是指用唯一确定的浮点形式去表示一个值。</span><br><span class="line">由于这种表示下的尾数有一位隐含的二进制有效数字，为了与二进制科学计数法的尾数相区别，IEEE754称之为有效数（significant）。</span><br><span class="line"> </span><br><span class="line">- `非规约形式`的浮点数：</span><br><span class="line">如果浮点数的指数部分的编码值是0，尾数为非零，那么这个浮点数将被称为非规约形式的浮点数。</span><br><span class="line"> </span><br><span class="line">- `IEEE 754标准规定`：</span><br><span class="line">非规约形式的浮点数的指数偏移值比规约形式的浮点数的指数偏移值大1.例如，最小的规约形式的单精度浮点数的指数部分编码值为1，指数的实际值为-126；而非规约的单精度浮点数的指数域编码值为0，对应的指数实际值也是-126而不是-127。实际上非规约形式的浮点数仍然是有效可以使用的，只是它们的绝对值已经小于所有的规约浮点数的绝对值；即所有的非规约浮点数比规约浮点数更接近0。规约浮点数的尾数大于等于1且小于2，而非规约浮点数的尾数小于1且大于0.</span><br><span class="line"> </span><br><span class="line">- `精度`</span><br><span class="line">在二进制，第一个有效数字必定是“1”，因此这个“1”并不会存储。</span><br><span class="line">单精和双精浮点数的有效数字分别是有存储的23和52个位，加上最左手边没有存储的第1个位，即是24和53个位。</span><br><span class="line"> </span><br><span class="line">- `浮点数的比较`</span><br><span class="line">浮点数基本上可以按照符号位、指数域、尾数域的顺序作字典比较。显然，所有正数大于负数；正负号相同时，指数的二进制表示法更大的其浮点数值更大。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Float toString 处理</span><br></pre></td></tr></table></figure>
<pre><code>public static String toString(float f) &#123;
    return FloatingDecimal.toJavaFormatString(f);
&#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">#  浮点数精度</span><br></pre></td></tr></table></figure>
<p>&#x2F;**</p>
<ul>
<li><p>浮点数精度<br>*&#x2F;<br>static void floatDubleAccuracy(){<br>  Integer i &#x3D; 2147483647 + 1;<br>  System.out.printf(“[%s] %s”, i.getClass(), i).println();</p>
<p>  Float f &#x3D; 2147483647f, f2 &#x3D; 999.0001f, f3 &#x3D; 999.00001f;&#x2F;&#x2F; 支持到后4位精度<br>  System.out.printf(“[%s] %s”, f.getClass(), f).println();<br>  System.out.printf(“[%s] %s”, f2.getClass(), f2).println();<br>  System.out.printf(“%s] %s”, f3.getClass(), f3).println();</p>
<p>  Double d &#x3D; 2147483647d, d2 &#x3D; 999.0000000000001d, d3 &#x3D; 999.00000000000001d;&#x2F;&#x2F; 支持到后13位精度<br>  System.out.printf(“[%s] %s”, d.getClass(), d).println();<br>  System.out.printf(“[%s] %s”, d2.getClass(), d2).println();<br>  System.out.printf(“[%s] %s”, d3.getClass(), d3).println();</p>
<p>  BigDecimal bigDecimal &#x3D; new BigDecimal(“999.0000000000000000000000000000000001”);&#x2F;&#x2F; 最高精度<br>  System.out.printf(“[%s] %s”, bigDecimal.getClass(), bigDecimal).println();<br>  System.out.println(bigDecimal.add(new BigDecimal(“0.1”)));&#x2F;&#x2F; BigDecimal计算 999.1000000000000000000000000000000001</p>
</li>
</ul>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"># BigDecimal  高精度二进制</span><br></pre></td></tr></table></figure>
<p>&#x2F;**</p>
<ul>
<li><p>高精度二进制<br>*&#x2F;<br>static void bigDecimal() {<br>  System.out.println(new BigDecimal(0.1f));&#x2F;&#x2F; 0.100000001490116119384765625<br>  System.out.println(new BigDecimal(“0.1”));&#x2F;&#x2F; 0.1<br>  System.out.println(0.1f);&#x2F;&#x2F; 0.1</p>
<p>  System.out.println(new BigDecimal(0.2d));<br>  System.out.println(new BigDecimal(0.1d).add(new BigDecimal(0.1d)));</p>
<p>  System.out.println(new BigDecimal(0.2f));<br>  System.out.println(new BigDecimal(0.1f).add(new BigDecimal(0.1f)));</p>
<p>  System.out.println(new BigDecimal(0.3d));<br>  System.out.println(new BigDecimal(0.1d).add(new BigDecimal(0.1d)).add(new BigDecimal(0.1d)));</p>
<p>  System.out.println(new BigDecimal(0.3f));<br>  System.out.println(new BigDecimal(0.1f).add(new BigDecimal(0.1f)).add(new BigDecimal(0.1)));</p>
<p>  System.out.println(“计算：”);<br>  &#x2F;&#x2F;正确的姿势：<br>  System.out.println(new BigDecimal(“0.1”).add(new BigDecimal(“0.2”)));&#x2F;&#x2F;输出：0.3</p>
<p>  &#x2F;&#x2F;错误的姿势：<br>  System.out.println(new BigDecimal(0.1).add(new BigDecimal(0.2)));    &#x2F;&#x2F;输出：0.3000000000000000166533453693773481063544750213623046875</p>
</li>
</ul>
<p>}</p>
<pre><code>

---
# 业务系统的金额处理小方法
数据库 存储 与金额计算都已`分`为单位（或业务需要的精度位），数值为`int`型.
展示，业务使用等场景格式化为目标所需要的单位。
- 好处： 避免`浮点类型(float,double)`的计算精度问题


---
**参考**
` 为什么1.0 - 0.7 != 0.3????? - jiqikewang的专栏 - CSDN博客 `
http://blog.csdn.net/jiqikewang/article/details/7031738


` Java浮点数计算精度问题总结 - 简书 `
http://www.jianshu.com/p/1d6ba0047a5b


` Java几个细节和误区 - chuan1191330700的专栏 - CSDN博客 `
http://blog.csdn.net/chuan1191330700/article/details/53322525


` java中float和double精度问题 - 简书 `
http://www.jianshu.com/p/c51041a791bd


`Java 使用BigDecimal类处理高精度计算 - 简书`
http://www.jianshu.com/p/25b1921ddcd7

` 关于Java中浮点数精度丢失 - 简书 `
http://www.jianshu.com/p/9f46c523d5ab


` 单精度与双精度是什么意思，有什么区别？ - 知乎 `
https://www.zhihu.com/question/26022206


</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/javap%20%E5%AD%97%E8%8A%82%E7%A0%81%E5%88%86%E6%9E%90%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/javap%20%E5%AD%97%E8%8A%82%E7%A0%81%E5%88%86%E6%9E%90%E5%99%A8/" class="post-title-link" itemprop="url">javap 字节码分析器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-07-20 00:00:00" itemprop="dateCreated datePublished" datetime="2017-07-20T00:00:00+08:00">2017-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:16:43" itemprop="dateModified" datetime="2024-01-24T10:16:43+08:00">2024-01-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt;javap -help</span><br><span class="line">用法: javap &lt;options&gt; &lt;classes&gt;</span><br><span class="line">其中, 可能的选项包括:</span><br><span class="line">  -help  --help  -?        输出此用法消息</span><br><span class="line">  -version                 版本信息</span><br><span class="line">  `-v  -verbose             输出附加信息`</span><br><span class="line">  -l                       输出行号和本地变量表</span><br><span class="line">  -public                  仅显示公共类和成员</span><br><span class="line">  -protected               显示受保护的/公共类和成员</span><br><span class="line">  -package                 显示程序包/受保护的/公共类 和成员 (默认)</span><br><span class="line">  -p  -private             显示所有类和成员</span><br><span class="line">  -c                       对代码进行反汇编</span><br><span class="line">  -s                       输出内部类型签名</span><br><span class="line">  -sysinfo                 显示正在处理的类的 系统信息 (路径, 大小, 日期, MD5 散列)</span><br><span class="line">  -constants               显示最终常量</span><br><span class="line">  -classpath &lt;path&gt;        指定查找用户类文件的位置</span><br><span class="line">  -cp &lt;path&gt;               指定查找用户类文件的位置</span><br><span class="line">  -bootclasspath &lt;path&gt;    覆盖引导类文件的位置</span><br></pre></td></tr></table></figure>


<h1 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h1><ul>
<li>关键内容<ul>
<li><code> Constant pool</code>（常量池）</li>
<li>方法信息- Code[<code> stack操作数栈</code>&#x2F;<code> LineNumberTable源码行</code> &#x2F;<code> LocalVariableTable 局部变量表</code>]<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">G:\liuxiang_code_git\myServer\@jvm\demo-jvm\target\classes&gt;javap -v -p -s NewObject.class</span><br><span class="line">Classfile /G:/liuxiang_code_git/myServer/@jvm/demo-jvm/target/classes/NewObject.class</span><br><span class="line">  Last modified 2017-7-2; size 419 bytes</span><br><span class="line">  MD5 checksum 39795e2c8582ff13ec97a9ba79cdc489</span><br><span class="line">  Compiled from &quot;NewObject.java&quot;</span><br><span class="line">public class NewObject</span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 52</span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line">   #1 = Methodref          #2.#19         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">   #2 = Class              #20            // java/lang/Object</span><br><span class="line">   #3 = Class              #21            // NewObject</span><br><span class="line">   #4 = Utf8               &lt;init&gt;</span><br><span class="line">   #5 = Utf8               ()V</span><br><span class="line">   #6 = Utf8               Code</span><br><span class="line">   #7 = Utf8               LineNumberTable</span><br><span class="line">   #8 = Utf8               LocalVariableTable</span><br><span class="line">   #9 = Utf8               this</span><br><span class="line">  #10 = Utf8               LNewObject;</span><br><span class="line">  #11 = Utf8               main</span><br><span class="line">  #12 = Utf8               ([Ljava/lang/String;)V</span><br><span class="line">  #13 = Utf8               args</span><br><span class="line">  #14 = Utf8               [Ljava/lang/String;</span><br><span class="line">  #15 = Utf8               foo</span><br><span class="line">  #16 = Utf8               Ljava/lang/Object;</span><br><span class="line">  #17 = Utf8               SourceFile</span><br><span class="line">  #18 = Utf8               NewObject.java</span><br><span class="line">  #19 = NameAndType        #4:#5          // &quot;&lt;init&gt;&quot;:()V</span><br><span class="line">  #20 = Utf8               java/lang/Object</span><br><span class="line">  #21 = Utf8               NewObject</span><br><span class="line">&#123;</span><br><span class="line">  public NewObject();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=1, locals=1, args_size=1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         4: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 1: 0</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0       5     0  this   LNewObject;</span><br><span class="line"> </span><br><span class="line">  public static void main(java.lang.String[]);</span><br><span class="line">    descriptor: ([Ljava/lang/String;)V</span><br><span class="line">    flags: ACC_PUBLIC, ACC_STATIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=2, locals=2, args_size=1</span><br><span class="line">         0: new           #2                  // class java/lang/Object</span><br><span class="line">         3: dup</span><br><span class="line">         4: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         7: astore_1</span><br><span class="line">         8: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 3: 0</span><br><span class="line">        line 4: 8</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0       9     0  args   [Ljava/lang/String;</span><br><span class="line">            8       1     1   foo   Ljava/lang/Object;</span><br><span class="line">&#125;</span><br><span class="line">SourceFile: &quot;NewObject.java&quot;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/11/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">DJY</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
