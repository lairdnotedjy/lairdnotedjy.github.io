<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.1.1">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2426182848439341"
     crossorigin="anonymous"></script>

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.sovdating.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.19.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Hello dev">
<meta property="og:type" content="website">
<meta property="og:title" content="Sovdating Linux">
<meta property="og:url" content="https://www.sovdating.com/page/51/index.html">
<meta property="og:site_name" content="Sovdating Linux">
<meta property="og:description" content="Hello dev">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="DJY">
<meta property="article:tag" content="golang python linux ubuntu centos rust">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.sovdating.com/page/51/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/51/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Sovdating Linux</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Sovdating Linux</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">some code for program</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">DJY</p>
  <div class="site-description" itemprop="description">Hello dev</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">548</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">93</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">381</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2015/04/22/How-to-load-resource-file-in-a-Jar-package-correctly/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/04/22/How-to-load-resource-file-in-a-Jar-package-correctly/" class="post-title-link" itemprop="url">Jar包中如何正确地加载资源文件</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-22 21:07:22" itemprop="dateCreated datePublished" datetime="2015-04-22T21:07:22+08:00">2015-04-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:24:42" itemprop="dateModified" datetime="2024-01-24T10:24:42+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Notes/" itemprop="url" rel="index"><span itemprop="name">Programming Notes</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>JDK：java version “1.8.0_31”<br>Java(TM) SE Runtime Environment (build 1.8.0_31-b13)<br>Java HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)</p>
<p>OS：win7 64bit</p>
<p>在日常开发中，经常需要在项目中加载各种资源，包括图片、文本、声音等资源，在本地项目中运行代码可以正确地加载资源，但是当把本地项目打包成<code>Jar</code>包并发布到<code>web</code>项目中之后，即便将各种资源文件一并打包，依然会出现无法正确加载资源的问题。这说明，在你希望打包的项目中加载资源的方式是错误的。那么你或许会问，为什么在单独的项目中可以正确加载资源，而打包之后就无法加载了呢？这是因为，打包之后，<code>jar</code>包中的所加载的文件路径发生了变化，例如<code>res.txt</code>打包到<code>C盘</code>之后，其路径变为<code>file:/C:/ResourceJar.jar!/resource/res.txt</code>，如果你在原项目中使用<code>new File(filePath)</code>之类的方法来加载的话，肯定会找不到资源文件。主要是因为<code>Jar</code>包是一个单独的文件而非文件夹，绝对不可能通过<code>file:/C:/.../ResourceJar.jar/resource /res.txt</code>这种形式的文件<code>URL</code>来定位<code>res.txt</code>。所以即使是相对路径，也无法定位到<code>Jar</code>包内的资源文件。</p>
<p>以将要打包的项目<code>jarProj</code>为例，介绍如何在将要打包的项目中正确的加载资源，<code>jarProj</code>项目目录结构如下<br> (conf是Source Folder，创建方法是在项目上右击-&gt;New-&gt;Other-&gt;Java-&gt;Source Folder，使用该方式所创建的目录效果和src目录相同，在编译之后，其下的文件和src下的文件都会发布到bin目录下)。</p>
<blockquote>
<p>jarProj-</p>
<blockquote>
<p>src–</p>
<blockquote>
<p>edu&#x2F;shu&#x2F;reference&#x2F;jar&#x2F;LoadFile.java</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>conf–</p>
<blockquote>
<p>reource&#x2F;text.txt</p>
</blockquote>
</blockquote>
</blockquote>
<p>如果需要在<code>jarProj</code>项目中加载一些资源文件，之后将其打包，发布到其他项目之下，该<code>jarProj</code>项目依然可以正确的加载到资源文件，需要使用到<code>getResource()</code>和<code>getResourceAsStream()</code>两个方法，而这两个方法大多数人都是无法区分的，需要做一个简单介绍</p>
<p><code>Class.getResource(String path)</code><br>path 不以’&#x2F;‘开头时，默认是从此类所在的包下取资源；<br>path 以’&#x2F;‘开头时，则是从加载该类的<code>class loader</code>下获取；如果该类是由<code>bootstrap class loader</code>加载，那么该方法等效于<code>ClassLoader.getSystemResource(java.lang.String)</code></p>
<ol>
<li><p>如果使用<code>this.getClass().getResource(&quot;myFile.ext&quot;)</code><br><code>getResource</code>方法会尽力从相对于该类所在包的路径下去寻找资源</p>
</li>
<li><p>如果使用<code>this.getClass().getResource(&quot;/myFile.ext&quot;)</code><br><code>getResource</code>方法会把它看成绝对路径，并且会简单的从<code>class loader</code>根下去加载资源</p>
</li>
<li><p>如果使用<code>this.getClass().getClassLoader().getResource(&quot;myFile.ext&quot;)</code><br>这时候，传递的参数不能够以&#x2F;作为路径的开始，因为所有的<code>ClassLoader</code>路径都是绝对路径，不需要参数以<code>/</code>作为合法的路径开始符号</p>
</li>
</ol>
<p>在上述三项中，<code>2和3</code>是等效的。</p>
<p>当项目被打包之后，其中的资源文件的路径其实已经发生变化，所以用简单的方法去加载肯定是找不到资源的，一般jar包中资源路径如下：<code>file:\D:\jarProj.jar!\resource\test.txt</code>，这时有两种解决办法，第一：用URL根据Jar包规范构造输入流（jar包中的资源有其专门的URL形式：<code>jar:&lt;url&gt;!/&#123;entry&#125;）</code>，然后进行读取；第二种是使用<code>getResourceAsStream()</code>进行加载，获取输入流，之后从输入流中读取，但是这样就无法使用诸如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="keyword">new</span> <span class="title class_">File</span>(filepath)))</span><br></pre></td></tr></table></figure>
<p>一类的方法了。</p>
<p>测试代码如下：<br>第一种在加载资源类中使用<code>getResourceAsStream()</code>方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> edu.shu.reference.jar;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.JarURLConnection;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * ClassName LoadFile</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * Description 将Java项目打包，发布到Web项目下，依然可以正确的加载资源</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> TKPad wangx89@126.com</span></span><br><span class="line"><span class="comment"> *         &lt;p&gt;</span></span><br><span class="line"><span class="comment"> *         Date 2015年4月22日 下午9:06:07</span></span><br><span class="line"><span class="comment"> *         &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> V1.0.0</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoadFile</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        getResource();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getResource</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getResourceAsStream(<span class="string">&quot;/resource/test.txt&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">fileContent</span> <span class="operator">=</span> IOUtils.toString(is);</span><br><span class="line">        System.out.println(fileContent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将该项目打包，发布到其他项目下，在其他项目下编写测试类，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> edu.shu.reference.jar.LoadFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">LoadFile</span> <span class="variable">lf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LoadFile</span>();</span><br><span class="line">        lf.read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>可以看到正确的输出结果，加载资源没问题！</p>
<p>第二种使用URL加载Jar资源的方式加载</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> edu.shu.reference.jar;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.JarURLConnection;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * ClassName LoadFile</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * Description 将Java项目打包，发布到Web项目下，依然可以正确的加载资源</span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> TKPad wangx89@126.com</span></span><br><span class="line"><span class="comment"> *         &lt;p&gt;</span></span><br><span class="line"><span class="comment"> *         Date 2015年4月22日 下午9:06:07</span></span><br><span class="line"><span class="comment"> *         &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> V1.0.0</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoadFile</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">f</span> <span class="operator">=</span> <span class="string">&quot;/resource/test.txt&quot;</span>;</span><br><span class="line">        <span class="type">URL</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getResource(f);</span><br><span class="line">        loadJar(resource.getFile());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * Title: loadJar</span></span><br><span class="line"><span class="comment">     * &lt;/p&gt;</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * Description: ③ 封装了一个加载Jar包的方法，使用URL根据jar包加载规范获取输入流，并据此输入流做进一步的操作</span></span><br><span class="line"><span class="comment">     * &lt;/p&gt;</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> filePath</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">loadJar</span><span class="params">(String filePath)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 注意在WINDOWS环境一定要使用正斜杠</span></span><br><span class="line">        filePath = <span class="string">&quot;jar:&quot;</span> + filePath;</span><br><span class="line">        <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URL</span>(filePath);</span><br><span class="line">        <span class="type">JarURLConnection</span> <span class="variable">openStream</span> <span class="operator">=</span> (JarURLConnection) url.openConnection();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> openStream.getInputStream();</span><br><span class="line">        <span class="comment">// 使用IO工具类将输入流输出到控制台</span></span><br><span class="line">        IOUtils.copy(inputStream, System.out);</span><br><span class="line">        <span class="comment">// 使用IO工具类从输入流中按行读取并存入List集合</span></span><br><span class="line">        List&lt;String&gt; contents = IOUtils.readLines(inputStream);</span><br><span class="line">        System.out.println(contents);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>将该项目打包，发布到其他项目下，在其他项目下编写测试类，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> edu.shu.reference.jar.LoadFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">LoadFile</span> <span class="variable">lf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LoadFile</span>();</span><br><span class="line">        lf.read();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>可以看到正确的输出结果，加载资源没问题！</p>
<p>如果你经常使用Apache的<code>commons-io</code>包的话，那么在Jar包中就不适合使用<code>FileUtils</code>去加载资源文件了，例如下面的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FileUtils.readFileToString(<span class="keyword">new</span> <span class="title class_">File</span>(ClassName.class.getClassLoader().getResource(<span class="string">&quot;config.properties&quot;</span>).toURI().toString()), Charset.forName(<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line"></span><br><span class="line">FileUtils.readFileToString(<span class="keyword">new</span> <span class="title class_">File</span>(ClassName.class.getClassLoader().getResource(<span class="string">&quot;config.properties&quot;</span>).toURI()), Charset.forName(<span class="string">&quot;UTF-8&quot;</span>));</span><br></pre></td></tr></table></figure>
<p>这两种方式都无法正确的加载到资源文件，但是<code>commons-io</code>包的另一个类仍然非常有用，就是<code>org.apache.commons.io.IOUtils</code>类，一行代码就可以帮助我们读取资源文件中的所有内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; contents = IOUtils.readLines(ClassName.class.getClassLoader().getResourceAsStream(<span class="string">&quot;config.properties&quot;</span>), Charset.forName(<span class="string">&quot;UTF-8&quot;</span>));</span><br></pre></td></tr></table></figure>
<p>即使该资源文件被打包到Jar文件中，这种方式依然没有任何问题，推荐使用。</p>
<p><strong>说明</strong></p>
<ul>
<li><p>另外还有一种比较常见的形式<code>ClassName.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)</code>，在这个时候使用<code>Class.getClassLoader().getResource()</code>和<code>Class.getClassLoader().getResourceAsStream()</code>在路径选择上是一样的，只不过两个方法返回的对象不同，前者返回<code>URL</code>对象，后者返回<code>InputStream</code>对象。</p>
</li>
<li><p>在使用<code>ClassName.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)</code>的时候千万不要写成<code>ClassName.class.getClass().getClassLoader().getResourceAsStream(&quot;config.properties&quot;)</code>，后者会始终抛<code>NullPointerException</code>，因为<code>class.getClass().getClassLoader().getResourceAsStream(...)</code>使用的是系统类加载器，而你的Jar对系统类加载器是不可见的。</p>
</li>
</ul>
<p>整个项目的下载地址在：<a target="_blank" rel="noopener" href="http://download.csdn.net/detail/shijiebei2009/8631005">http://download.csdn.net/detail/shijiebei2009/8631005</a></p>
<p><strong>参考文献</strong><br>[1] <a target="_blank" rel="noopener" href="http://hxraid.iteye.com/blog/483115">http://hxraid.iteye.com/blog/483115</a><br>[2] <a target="_blank" rel="noopener" href="http://www.cnblogs.com/yejg1212/p/3270152.html">http://www.cnblogs.com/yejg1212/p/3270152.html</a><br>[3] <a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/16570523/getresourceasstream-returns-null">http://stackoverflow.com/questions/16570523/getresourceasstream-returns-null</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2015/04/19/Introduction-to-Apache-Commons/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/04/19/Introduction-to-Apache-Commons/" class="post-title-link" itemprop="url">Apache Commons入门</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-19 20:29:21" itemprop="dateCreated datePublished" datetime="2015-04-19T20:29:21+08:00">2015-04-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:24:42" itemprop="dateModified" datetime="2024-01-24T10:24:42+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Notes/" itemprop="url" rel="index"><span itemprop="name">Programming Notes</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Apache Commons是Apache软件基金会的项目，曾隶属于Jakarta项目。Commons的目的是提供可重用的、开源的Java代码。Commons由三部分组成：Proper（是一些已发布的项目）、Sandbox（是一些正在开发的项目）和Dormant（是一些刚启动或者已经停止维护的项目）。</p>
<p>目前Commons-IO包稳定版本是Version 2.4，可惜的是，对于我目前很需要的copyInputStreamToFile（final InputStream source, final File destination, boolean closeSource）方法，只能等到Version 2.5了，关于详情参见：<a target="_blank" rel="noopener" href="https://issues.apache.org/jira/browse/IO-381">https://issues.apache.org/jira/browse/IO-381</a></p>
<p>Apache Commons提供了全方位可重用的Java组件，在我们日常开发中，诸多问题的解决方法均可在Commons包中找到实现，使用Commons包提供的组件可以极大的提高开发效率，减少重复劳动，下表是Commons提供的组件的详细信息，鉴于英文水平一般，不予翻译，采用官网提供的标准信息。</p>
<p><img src="https://raw.githubusercontent.com/shijiebei2009/img/master/blog/commons_a.png"><br><img src="https://raw.githubusercontent.com/shijiebei2009/img/master/blog/commons_b.png" alt="Apache commons"></p>
<p>以最常用的Commons包封装的方法为例，介绍一些简单的使用示例</p>
<ul>
<li>将输入流转换成文本</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> edu.shu.commons.io.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestCommonsIO</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URL</span>(<span class="string">&quot;http://www.baidu.com&quot;</span>);</span><br><span class="line"><span class="type">InputStream</span> <span class="variable">openStream</span> <span class="operator">=</span> url.openStream();</span><br><span class="line"><span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> IOUtils.toString(openStream, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">System.out.println(string);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>读文件与写文件</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> edu.shu.commons.io.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestCommonsIO</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> FileUtils.readFileToString(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test.txt&quot;</span>));</span><br><span class="line">System.out.println(content);</span><br><span class="line">FileUtils.writeStringToFile(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;destination.txt&quot;</span>), content);</span><br><span class="line"><span class="comment">// 指定编码的读</span></span><br><span class="line">content = FileUtils.readFileToString(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test.txt&quot;</span>), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"><span class="comment">// 指定编码的写</span></span><br><span class="line">FileUtils.writeStringToFile(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;destination.txt&quot;</span>), content, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>输出结果为HTML</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> edu.shu.commons.io.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.StringEscapeUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestCommonsIO</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">escapeHtml4</span> <span class="operator">=</span> StringEscapeUtils.escapeHtml4(content);</span><br><span class="line">System.out.println(escapeHtml4);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>将文本按行读取并以行为元素存入List列表</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> edu.shu.commons.io.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestCommonsIO</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">List contents= FileUtils.readLines(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;test.txt&quot;</span>));</span><br><span class="line">System.out.println(contents);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>从ClassLoader加载器加载资源，并且读出文本内容、</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> edu.shu.commons.io.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestCommonsIO</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> TestCommonsIO.class.getClass().getResourceAsStream(<span class="string">&quot;/resource/d.txt&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> IOUtils.toString(is);</span><br><span class="line">System.out.println(content);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>commons mail包主要是对java mail的封装，可以方便快速的发送邮件</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.mail.DefaultAuthenticator;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.mail.Email;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.mail.EmailException;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.mail.SimpleEmail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestEmail</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> EmailException &#123;</span><br><span class="line"><span class="type">Email</span> <span class="variable">email</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleEmail</span>();</span><br><span class="line">email.setHostName(<span class="string">&quot;smtp.qq.com&quot;</span>);</span><br><span class="line">email.setSmtpPort(<span class="number">465</span>);</span><br><span class="line">email.setAuthenticator(<span class="keyword">new</span> <span class="title class_">DefaultAuthenticator</span>(<span class="string">&quot;发送者账号&quot;</span>, <span class="string">&quot;发送者账号密码&quot;</span>));</span><br><span class="line">email.setSSLOnConnect(<span class="literal">true</span>);</span><br><span class="line">email.setFrom(<span class="string">&quot;sender mail@qq.com&quot;</span>);</span><br><span class="line">email.setSubject(<span class="string">&quot;TestMail&quot;</span>);</span><br><span class="line">email.setMsg(<span class="string">&quot;This is a test mail ... :-)&quot;</span>);</span><br><span class="line">email.addTo(<span class="string">&quot;receiver mail@qq.com&quot;</span>);</span><br><span class="line">email.send();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>参考文献</strong><br><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/shijiebei2009/img/master/blog/commons_a.png">1</a> <a target="_blank" rel="noopener" href="http://zh.wikipedia.org/wiki/Apache_Commons">http://zh.wikipedia.org/wiki/Apache_Commons</a><br><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/shijiebei2009/img/master/blog/commons_b.png">2</a> <a target="_blank" rel="noopener" href="http://zhoualine.iteye.com/blog/1770014">http://zhoualine.iteye.com/blog/1770014</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2015/04/10/java-volatile-boolean-atomic-boolean-analysis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/04/10/java-volatile-boolean-atomic-boolean-analysis/" class="post-title-link" itemprop="url">Java之volatile boolean，AtomicBoolean分析</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-10 17:42:13" itemprop="dateCreated datePublished" datetime="2015-04-10T17:42:13+08:00">2015-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:24:42" itemprop="dateModified" datetime="2024-01-24T10:24:42+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming-Notes/" itemprop="url" rel="index"><span itemprop="name">Programming Notes</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="volatile概述"><a href="#volatile概述" class="headerlink" title="volatile概述"></a>volatile概述</h3><p>volatile关键字是一个类型修饰符，被设计用来修饰被不同线程访问和修改的变量，在JVM1.2之前，Java的内存模型实现总是从主存读取变量，是不需要进行特别的注意的。而随着JVM的成熟和优化，现在在多线程环境下volatile关键字的使用变得非常重要。</p>
<p>在当前的Java内存模型下，线程可以把变量保存在本地内存（比如机器的寄存器）中，而不是直接在主存中进行读写。这就可能造成一个线程在主存中修改了一个变量的值，而另外一个线程还继续使用它在寄存器中的变量值的拷贝，造成数据的不一致。</p>
<p>要解决这个问题，需要把变量声明为volatile（不稳定的），以后用到该变量都会到主存中进行存取，一般多任务环境下各任务间共享的标志都应该加volatile修饰。volatile修饰的成员变量在每次被线程访问时，都强迫从共享内存中重读该成员变量的值，而且当成员变量发生变化时，强迫线程将变化值回写到共享内存。</p>
<p>Java语言中的volatile变量可以被看作是一种“程度较轻的synchronized”；与synchronized块相比，volatile变量所需的编码较少，并且运行时开销也较少，但是它所能实现的功能也仅是synchronized的一部分。Volatile变量具有synchronized的可见性特性，但是不具备原子特性。volatile仅仅用来保证该变量对所有线程的可见性，但不保证原子性。</p>
<h3 id="volatile是线程不安全的"><a href="#volatile是线程不安全的" class="headerlink" title="volatile是线程不安全的"></a>volatile是线程不安全的</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">20</span>; j++) &#123;</span><br><span class="line">            <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Test</span>());</span><br><span class="line">            t.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我成功了！&quot;</span>);</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<blockquote>
<p>我成功了！<br>我成功了！<br>我成功了！<br>我成功了！</p>
</blockquote>
<p>注意：不要将volatile用在getAndOperate场合，仅仅set或者get的场景是适合volatile的。</p>
<p>由以上测试用例可以看出，volatile boolean是无法保证线程安全的，在一个线程占用flag变量的时候，<br>其他线程也可以占用flag变量，所以多个线程均可以打印出消息。</p>
<h3 id="Atomic概述"><a href="#Atomic概述" class="headerlink" title="Atomic概述"></a>Atomic概述</h3><p>java.util.concurrent.atomic是在JDK1.5之后引入的包，在JDK中的说明如下</p>
<blockquote>
<p>A small toolkit of classes that support lock-free thread-safe programming on single variables. In essence, the classes in this package extend the notion of volatile values, fields, and array elements to those that also provide an atomic conditional update operation of the form:</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">compareAndSet</span><span class="params">(expectedValue, updateValue)</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>This method (which varies in argument types across different classes) atomically sets a variable to the updateValue if it currently holds the expectedValue, reporting true on success. The classes in this package also contain methods to get and unconditionally set values, as well as a weaker conditional atomic update operation weakCompareAndSet described below.</p>
</blockquote>
<p>该包提供了一组原子类，在多线程环境下，当有多个线程同时执行这些类的实例包含的方法时，具有排他性，即当某个线程进入方法，执行其中的指令时，不会被其他线程打断，而别的线程就像自旋锁一样，一直等到该方法执行完成，才由JVM从等待队列中选择另一个线程进入。</p>
<h3 id="Atomic是线程安全的"><a href="#Atomic是线程安全的" class="headerlink" title="Atomic是线程安全的"></a>Atomic是线程安全的</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicBoolean;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">volatile</span> <span class="type">AtomicBoolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicBoolean</span>(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">20</span>; j++) &#123;</span><br><span class="line">            <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Test</span>());</span><br><span class="line">            t.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (flag.compareAndSet(<span class="literal">true</span>, <span class="literal">false</span>)) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;我成功了！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果</p>
<blockquote>
<p>我成功了！</p>
</blockquote>
<p>Atomic类不仅仅提供了对数据操作的线程安全保证，而且提供了一系列的语义清晰的方法，如incrementAndGet() 、getAndIncrement() 等，使用方便，Atomic的内部实现使用的是更加高效的CAS（compareand swap）+volatile，从而避免了synchronized的高开销，执行效率大幅提升，出于性能考虑强烈建议使用Atomic，而不是synchronized关键字。</p>
<hr>
<p><strong>参考文献</strong><br>[1] <a target="_blank" rel="noopener" href="http://www.blogjava.net/aoxj/archive/2012/06/16/380926.html">http://www.blogjava.net/aoxj/archive/2012/06/16/380926.html</a><br>[2] <a target="_blank" rel="noopener" href="http://blog.csdn.net/xieyuooo/article/details/8594713">http://blog.csdn.net/xieyuooo/article/details/8594713</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2015/04/06/Github-Pages-personal-blog-from-Octopress-to-Hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/04/06/Github-Pages-personal-blog-from-Octopress-to-Hexo/" class="post-title-link" itemprop="url">Github Pages个人博客，从Octopress转向Hexo</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-06 16:03:13" itemprop="dateCreated datePublished" datetime="2015-04-06T16:03:13+08:00">2015-04-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:24:42" itemprop="dateModified" datetime="2024-01-24T10:24:42+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Git-GitHub/" itemprop="url" rel="index"><span itemprop="name">Git/GitHub</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>环境&amp;版本<br>OS：win7 X64<br>Hexo：V3.0.0<br>Node.js：V0.12.2<br>Git：Version 1.9.5.msysgit.1</p>
</blockquote>
<p>关于为什么要开博客？请参见<a target="_blank" rel="noopener" href="http://zhuanlan.zhihu.com/cnfeat/19743861">《为什么你要写博客？》</a><a target="_blank" rel="noopener" href="http://zhuanlan.zhihu.com/cnfeat/19743255">《我的博客时代》</a></p>
<p>下面就让我们一起开启使用Hexo的全新旅程吧！</p>
<h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><p><a target="_blank" rel="noopener" href="https://nodejs.org/download/">下载Node.js</a><br>参考地址：<a target="_blank" rel="noopener" href="http://www.w3cschool.cc/nodejs/nodejs-install-setup.html">安装Node.js</a></p>
<h3 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h3><p>下载地址：<a target="_blank" rel="noopener" href="http://git-scm.com/download/">http://git-scm.com/download/</a></p>
<h3 id="注册GitHub"><a href="#注册GitHub" class="headerlink" title="注册GitHub"></a>注册GitHub</h3><p>访问：<a target="_blank" rel="noopener" href="http://www.github.com/">http://www.github.com/</a><br>注册过程参见：<a target="_blank" rel="noopener" href="http://pchou.info/web-build/2013/01/03/build-github-blog-page-01.html">一步步在GitHub上创建博客主页 全系列</a></p>
<h3 id="配置和使用Github"><a href="#配置和使用Github" class="headerlink" title="配置和使用Github"></a>配置和使用Github</h3><p>参见：<a target="_blank" rel="noopener" href="http://www.jianshu.com/p/05289a4bc8b2">如何搭建一个独立博客——简明Github Pages与Hexo教程</a></p>
<h3 id="安装Hexo及主题设置"><a href="#安装Hexo及主题设置" class="headerlink" title="安装Hexo及主题设置"></a>安装Hexo及主题设置</h3><h4 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /d/</span><br><span class="line">$ <span class="built_in">mkdir</span> hexo</span><br><span class="line">$ <span class="built_in">cd</span> hexo</span><br><span class="line">$ npm install -g hexo</span><br><span class="line">$ hexo init</span><br><span class="line">$ hexo g <span class="comment"># 或者hexo generate</span></span><br><span class="line">$ hexo s <span class="comment"># 或者hexo server，可以在http://localhost:4000/查看</span></span><br></pre></td></tr></table></figure>
<p>注意在使用npm安装hexo的时候，如果在Git Bash中出现</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh.exe<span class="string">&quot;: npm: command not found</span></span><br></pre></td></tr></table></figure>
<p>那么需要右击Git Bash以管理员身份运行，再次在Git Bash中输入<strong>npm install -g hexo</strong>即可。</p>
<h4 id="复制主题"><a href="#复制主题" class="headerlink" title="复制主题"></a>复制主题</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/wuchong/jacman.git themes/jacman</span><br></pre></td></tr></table></figure>
<h4 id="启用主题"><a href="#启用主题" class="headerlink" title="启用主题"></a>启用主题</h4><p>修改Hexo目录下的_config.yml配置文件中的theme属性，将其设置为jacman。</p>
<h4 id="更新主题"><a href="#更新主题" class="headerlink" title="更新主题"></a>更新主题</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> themes/jacman</span><br><span class="line">$ git pull</span><br><span class="line">$ hexo g <span class="comment"># 生成</span></span><br><span class="line">$ hexo s <span class="comment"># 启动本地服务，进行文章预览调试 </span></span><br></pre></td></tr></table></figure>
<p>在浏览器中输入<a target="_blank" rel="noopener" href="http://localhost:4000/">http://localhost:4000/</a><br>如果显示的是繁体中文，那么修改<code>_config.xml</code>中的<code>language: zh-CN</code>。</p>
<h4 id="绑定独立域名"><a href="#绑定独立域名" class="headerlink" title="绑定独立域名"></a>绑定独立域名</h4><p><a target="_blank" rel="noopener" href="http://www.net.cn/">购买域名</a><br>在你的域名注册提供商那里配置DNS解析，获取GitHub的IP地址<a target="_blank" rel="noopener" href="https://help.github.com/articles/tips-for-configuring-an-a-record-with-your-dns-provider/">点击</a>，进入source目录下，添加CNAME文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> <span class="built_in">source</span>/</span><br><span class="line">$ <span class="built_in">touch</span> CNAME</span><br><span class="line">$ vim CNAME <span class="comment"># 输入你的域名，例如codepub.cn</span></span><br><span class="line">$ git add CNAME</span><br><span class="line">$ git commit -m <span class="string">&quot;add CNAME&quot;</span></span><br></pre></td></tr></table></figure>
<p>修改<code>_config.xml</code>文件，添加你的Github中仓库地址，该仓库名称必须是<code>yourusername.github.io</code>，添加如下内容到<code>_config.xml</code>中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository: git@github.com:shijiebei2009/shijiebei2009.github.io.git <span class="comment"># 注意换成自己的username</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>不会建仓库的童鞋参见<a target="_blank" rel="noopener" href="http://zipperary.com/2013/05/28/hexo-guide-2/">hexo系列教程：（二）搭建hexo博客</a></p>
<h4 id="推送到远程仓库"><a href="#推送到远程仓库" class="headerlink" title="推送到远程仓库"></a>推送到远程仓库</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">&quot;first commit&quot;</span></span><br><span class="line">$ git remote add origin git@github.com:shijiebei2009/shijiebei2009.github.io.git</span><br><span class="line">$ git push -u origin master</span><br></pre></td></tr></table></figure>
<p>如果出现</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git push -u origin master</span><br><span class="line">Username <span class="keyword">for</span> <span class="string">&#x27;https://github.com&#x27;</span>: shijiebei2009</span><br><span class="line">Password <span class="keyword">for</span> <span class="string">&#x27;https://shijiebei2009@github.com&#x27;</span>:</span><br><span class="line">remote: Repository not found.</span><br><span class="line">fatal: repository <span class="string">&#x27;git://github.com/shijiebei2009/shijiebei2009.github.io.git/</span></span><br><span class="line"><span class="string">&#x27;</span> not found</span><br></pre></td></tr></table></figure>
<p>那是因为你在github网站上还没有建立该仓库导致。<br>部署</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">$ hexo deploy <span class="comment">#或者组合命令 hexo d -g</span></span><br></pre></td></tr></table></figure>
<p>如果出现：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure>
<p>需要运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<h3 id="进阶篇-高级定制"><a href="#进阶篇-高级定制" class="headerlink" title="进阶篇-高级定制"></a>进阶篇-高级定制</h3><h4 id="添加插件"><a href="#添加插件" class="headerlink" title="添加插件"></a>添加插件</h4><p>添加sitemap和feed插件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-feed</span><br><span class="line">$ npm install hexo-generator-sitemap</span><br></pre></td></tr></table></figure>
<p>修改<code>_config.yml</code>，增加以下内容</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="attr">Plugins:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">hexo-generator-feed</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">hexo-generator-sitemap</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Feed Atom</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sitemap</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br></pre></td></tr></table></figure>
<p>配完之后，就可以访问<code>http://codepub.cn/atom.xml</code>和<code>http://codepub.cn/sitemap.xml</code>，发现这两个文件已经成功生成了。</p>
<h4 id="添加404公益页面"><a href="#添加404公益页面" class="headerlink" title="添加404公益页面"></a>添加404公益页面</h4><p>GitHub Pages有提供制作404页面的指引：<a target="_blank" rel="noopener" href="https://help.github.com/articles/custom-404-pages">Custom 404 Pages</a>。</p>
<p>直接在根目录下创建自己的404.html或者404.md就可以。但是自定义404页面仅对绑定顶级域名的项目才起作用，GitHub默认分配的二级域名是不起作用的，使用hexo server在本机调试也是不起作用的。</p>
<p>推荐使用<a target="_blank" rel="noopener" href="http://www.qq.com/404/">腾讯公益404</a>。</p>
<h4 id="添加about页面"><a href="#添加about页面" class="headerlink" title="添加about页面"></a>添加about页面</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page <span class="string">&quot;about&quot;</span></span><br></pre></td></tr></table></figure>
<p>之后在\source\about\index.md目录下会生成一个index.md文件，打开输入个人信息即可，如果想要添加版权信息，可以在文件末尾添加：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;font-size:12px;border-bottom: #bbbbbb 1px solid; BORDER-LEFT: #bbbbbb 1px solid; BACKGROUND: #f6f6f6; HEIGHT: 120px; BORDER-TOP: #bbbbbb 1px solid; BORDER-RIGHT: #bbbbbb 1px solid&quot;</span> <span class="attr">class</span>=<span class="string">shijiebei2009right</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;MARGIN-TOP: 10px; FLOAT: left; MARGIN-LEFT: 5px; MARGIN-RIGHT: 10px&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://avatars3.githubusercontent.com/u/4994697?v=3&amp;u=70a4ca810fb1908f2deeed95f3b962eec64e1787&amp;s=140&quot;</span> <span class="attr">width</span>=<span class="string">90</span> <span class="attr">height</span>=<span class="string">100</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;LINE-HEIGHT: 200%; MARGIN-TOP: 10px; COLOR: #000000&quot;</span>&gt;</span>作者： </span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://shijiebei2009.github.io/&quot;</span>&gt;</span>王旭<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span>出处： </span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://shijiebei2009.github.io/&quot;</span>&gt;</span>http://shijiebei2009.github.io/<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span>本文基于<span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">title</span>=<span class="string">&quot;Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://creativecommons.org/licenses/by-sa/4.0/&quot;</span>&gt;</span> 知识共享署名-相同方式共享 4.0 <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">国际许可协议发布，欢迎转载，演绎或用于商业目的，但是必须保留本文的署名 </span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://shijiebei2009.github.io/&quot;</span>&gt;</span>王旭<span class="tag">&lt;/<span class="name">a</span>&gt;</span>及链接。</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="发表文章的markdown语法"><a href="#发表文章的markdown语法" class="headerlink" title="发表文章的markdown语法"></a>发表文章的markdown语法</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">postName</span> <span class="comment">#文章页面上的显示名称，可以任意修改，不会出现在URL中</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2013-12-02 15:30:16</span> <span class="comment">#文章生成时间，一般不改，当然也可以任意修改</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">example</span> <span class="comment">#分类</span></span><br><span class="line"><span class="attr">tags:</span> [<span class="string">tag1</span>,<span class="string">tag2</span>,<span class="string">tag3</span>] <span class="comment">#文章标签，可空，多标签请用格式，注意:后面有个空格</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">附加一段文章摘要，字数最好在140字以内。</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="string">设置摘要有两种方法</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span><span class="string">、使用&lt;!--more--&gt;标签</span></span><br><span class="line"><span class="number">2</span><span class="string">、不使用&lt;!--more--&gt;标签，仅显示部分摘要。在`D:/hexo/themes/jacman/_config.xml`文件中修改为</span></span><br><span class="line"><span class="attr">index:</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">false</span> <span class="comment">## default is unexpanding,so you can only see the short description of each post.</span></span><br><span class="line">  <span class="attr">excerpt_link:</span> <span class="string">Read</span> <span class="string">More</span></span><br><span class="line"></span><br><span class="line"><span class="string">以下正文</span></span><br></pre></td></tr></table></figure>

<h4 id="使用图床"><a href="#使用图床" class="headerlink" title="使用图床"></a>使用图床</h4><p>千万不要使用国内公司的图床，极其不靠谱，说关就关，说挂就挂，推荐使用GitHub作为原生的图床。</p>
<h4 id="markdown工具"><a href="#markdown工具" class="headerlink" title="markdown工具"></a>markdown工具</h4><p>Windows在线markdown工具：<a target="_blank" rel="noopener" href="https://www.zybuluo.com/mdeditor">https://www.zybuluo.com/mdeditor</a><br>Windows本地markdown工具：<a target="_blank" rel="noopener" href="http://markdownpad.com/">markdownpad</a></p>
<h4 id="添加Fork-me-on-Github"><a href="#添加Fork-me-on-Github" class="headerlink" title="添加Fork me on Github"></a>添加Fork me on Github</h4><p><a target="_blank" rel="noopener" href="https://github.com/blog/273-github-ribbons">获取代码</a>，选择你喜欢的代码添加到hexo&#x2F;themes&#x2F;jacman&#x2F;layout&#x2F;layout.ejs的末尾即可，注意要将代码里的you改成你的Github账号名。</p>
<h4 id="添加支付宝捐赠按钮及二维码支付"><a href="#添加支付宝捐赠按钮及二维码支付" class="headerlink" title="添加支付宝捐赠按钮及二维码支付"></a>添加支付宝捐赠按钮及二维码支付</h4><h5 id="支付宝捐赠按钮"><a href="#支付宝捐赠按钮" class="headerlink" title="支付宝捐赠按钮"></a>支付宝捐赠按钮</h5><p>在D:\hexo\themes\jacman\layout_widget目录下新建一个zhifubao.ejs文件，内容如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;asidetitle&quot;</span>&gt;</span>打赏他<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;https://shenghuo.alipay.com/send/payment/fill.htm&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">accept-charset</span>=<span class="string">&quot;GBK&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;optEmail&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;your 支付宝账号&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;payAmount&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;默认捐赠金额(元)&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span> <span class="attr">name</span>=<span class="string">&quot;title&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;博主，打赏你的！&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;memo&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;你Y加油，继续写博客！&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;pay&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image&quot;</span> <span class="attr">value</span>=<span class="string">&quot;转账&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://raw.githubusercontent.com/shijiebei2009/img/master/blog/alipay_donate.png&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>添加完该文件之后，要在<code>D:/hexo/themes/jacman/_config.yml</code>文件中启用，如下所示，添加<code>zhifubao</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">widgets:</span><br><span class="line">- category</span><br><span class="line">- tag</span><br><span class="line">- links</span><br><span class="line">- tagcloud</span><br><span class="line">- zhifubao</span><br><span class="line">- rss</span><br></pre></td></tr></table></figure>

<h5 id="二维码捐赠"><a href="#二维码捐赠" class="headerlink" title="二维码捐赠"></a>二维码捐赠</h5><p>首先需要到<a target="_blank" rel="noopener" href="https://qr.alipay.com/paipai/open.htm">这里</a>获取你的支付宝账户的二维码图片，支付宝提供了自定义功能，可以添加自定义文字。</p>
<p>我的二维码扫描捐赠添加在about页面，当然你也可以添加到其它页面，在D:\hexo\source\about下有index.md，打开，在适当位置添加</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">欢迎您捐赠本站，您的支持是我最大的动力！</span><br><span class="line">![][1]</span><br><span class="line">[1]: https://raw.githubusercontent.com/shijiebei2009/img/master/blog/alipay_donate.png</span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;center&gt;</code>可以让图片居中显示，注意将图片链接地址换成你的即可。</p>
<h3 id="其它实用功能"><a href="#其它实用功能" class="headerlink" title="其它实用功能"></a>其它实用功能</h3><h4 id="插件推荐"><a href="#插件推荐" class="headerlink" title="插件推荐"></a>插件推荐</h4><p><a target="_blank" rel="noopener" href="http://hexo.io/docs/">hexo官方文档</a><br><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/wiki/Plugins">hexo插件大全</a><br><a target="_blank" rel="noopener" href="http://www.faviconer.com/">自定义网站logo</a><br><a target="_blank" rel="noopener" href="http://www.markdown.cn/">MarkDown中文网</a><br><a target="_blank" rel="noopener" href="http://wowubuntu.com/markdown/">MarkDown语法说明</a><br><a target="_blank" rel="noopener" href="http://www.jiathis.com/">社交分享推荐使用jiathis</a><br><a target="_blank" rel="noopener" href="http://duoshuo.com/">评论插件推荐使用duoshuo</a><br><a target="_blank" rel="noopener" href="http://zhanzhang.cnzz.com/">网站流量统计推荐cnzz</a><br><a target="_blank" rel="noopener" href="http://tongji.baidu.com/web/welcome/login">网站流量统计推荐百度统计</a></p>
<h4 id="作者信息"><a href="#作者信息" class="headerlink" title="作者信息"></a>作者信息</h4><p>需要修改与作者有关的一系列信息，修改<code>D:/hexo/themes/jacman/_config.xml</code>中的<code>author/imglogo/favicon/author_img/apple_icon</code>一系列属性即可。</p>
<h4 id="删除warning-LF-will-be-replaced-by-CRLF警告信息"><a href="#删除warning-LF-will-be-replaced-by-CRLF警告信息" class="headerlink" title="删除warning: LF will be replaced by CRLF警告信息"></a>删除warning: LF will be replaced by CRLF警告信息</h4><p>在hexo deploy时，有时会出现这个提示信息<code>warning: LF will be replaced by CRLF</code>，虽然看起来挺乱糟糟的，但不影响使用，可以忽略不计。若想不提示，可以使用如下方法：<br>切换到博客的根目录，执行如下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.autocrlf <span class="literal">false</span> </span><br><span class="line">$ <span class="built_in">rm</span> -rf .git <span class="comment">#删除掉该目录下的.git文件夹</span></span><br><span class="line">$ git init <span class="comment">#重新初始化</span></span><br></pre></td></tr></table></figure>
<p>再deploy试试吧，清新脱俗了。</p>
<h4 id="写博客或添加页面"><a href="#写博客或添加页面" class="headerlink" title="写博客或添加页面"></a>写博客或添加页面</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;postName&quot;</span> <span class="comment">#新建文章</span></span><br><span class="line">$ hexo new page <span class="string">&quot;pageName&quot;</span> <span class="comment">#新建页面</span></span><br><span class="line">$ hexo generate <span class="comment">#生成静态页面至public目录</span></span><br><span class="line">$ hexo server <span class="comment">#开启预览访问端口（默认端口4000，&#x27;ctrl + c&#x27;关闭server）</span></span><br><span class="line">$ hexo deploy <span class="comment">#将.deploy目录部署到GitHub</span></span><br></pre></td></tr></table></figure>
<p>常用简写</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n == hexo new</span><br><span class="line">$ hexo g == hexo generate</span><br><span class="line">$ hexo s == hexo server</span><br><span class="line">$ hexo d == hexo deploy</span><br></pre></td></tr></table></figure>
<p>常用组合</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo d -g <span class="comment">#生成部署</span></span><br><span class="line">$ hexo s -g <span class="comment">#生成预览</span></span><br></pre></td></tr></table></figure>
<h4 id="安装hexo-generator-baidu-sitemap插件，专为百度量身打造"><a href="#安装hexo-generator-baidu-sitemap插件，专为百度量身打造" class="headerlink" title="安装hexo-generator-baidu-sitemap插件，专为百度量身打造"></a>安装hexo-generator-baidu-sitemap插件，专为百度量身打造</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure>
<p>然后在 Hexo 根目录下的 <code>_config.yml</code> 里配置一下</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line"> <span class="attr">path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure>
<h4 id="推广博客与提交Sitemap"><a href="#推广博客与提交Sitemap" class="headerlink" title="推广博客与提交Sitemap"></a>推广博客与提交Sitemap</h4><p><a target="_blank" rel="noopener" href="http://zhanzhang.baidu.com/sitesubmit/index">百度网址提交入口</a><br><a target="_blank" rel="noopener" href="http://info.so.360.cn/site_submit.html">360网址提交入口</a></p>
<h4 id="添加百度站内搜索"><a href="#添加百度站内搜索" class="headerlink" title="添加百度站内搜索"></a>添加百度站内搜索</h4><p><a target="_blank" rel="noopener" href="http://zhanzhang.baidu.com/guide/index">点击进入</a>，点击其它工具-&gt;站内检索-&gt;现在使用-&gt;新建搜索引擎-&gt;查看代码，将代码里的id值复制，打开<code>/d/hexo/themes/jacman/_config.xml</code>，配置成如下即可。</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidu_search:</span>     <span class="comment">## http://zn.baidu.com/</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">id:</span> <span class="string">&quot;1433674487421172828&quot;</span> <span class="comment">## e.g. &quot;783281470518440642&quot;  for your baidu search id</span></span><br><span class="line">  <span class="attr">site:</span> <span class="string">http://zhannei.baidu.com/cse/search</span> <span class="comment">## your can change to your site instead of the default site</span></span><br></pre></td></tr></table></figure>
<h4 id="使用不蒜子添加访客统计"><a href="#使用不蒜子添加访客统计" class="headerlink" title="使用不蒜子添加访客统计"></a>使用不蒜子添加访客统计</h4><p>详情参考<a target="_blank" rel="noopener" href="http://ibruce.info/2015/04/04/busuanzi/">搞定你的网站计数</a>，具体做法很简单，就是在你的<code>themes/your themes/layout/_partial/footer.ejs</code>底部加入这段脚本</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script <span class="keyword">async</span> src=<span class="string">&quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>然后在<code>&lt;p class=&quot;copyright&quot;&gt;&lt;/p&gt;</code>中间添加如下统计信息即可</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">本站总访问量 <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_value_site_pv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> 次, 访客数 <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_value_site_uv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> 人次, 本文总阅读量 <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_value_page_pv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> 次</span><br></pre></td></tr></table></figure>
<p>不蒜子的官方服务网站是<a target="_blank" rel="noopener" href="http://service.ibruce.info/">不蒜子</a>，目前最大的弊端就是不开放注册，所以对于运行了一段时间的网站，不蒜子的数据都是从1开始，没办法设置，只有等后期开放注册之后，登入网站才能对统计计数进行设置。</p>
<h3 id="Jacman主题相关"><a href="#Jacman主题相关" class="headerlink" title="Jacman主题相关"></a>Jacman主题相关</h3><h4 id="为jacman主题添加最新评论"><a href="#为jacman主题添加最新评论" class="headerlink" title="为jacman主题添加最新评论"></a>为jacman主题添加最新评论</h4><p>本方法针对使用hexo搭建Github Pages静态博客，并且使用jacman主题的童鞋们。</p>
<p>首先在<code>\themes\jacman\layout\_widget</code>目录下新建<code>latest_comment.ejs</code>，放入“多说”最新评论代码，其中“多说”的最新评论代码<a target="_blank" rel="noopener" href="http://dev.duoshuo.com/docs/4ff28d95552860f21f000010">点我获取</a>，注意修改<code>var duoshuoQuery = &#123;short_name:&quot;您的多说二级域名&quot;&#125;;</code>将其中的“short_name”设置为在多说配置的二级域名即可。在<code>latest_comment.ejs</code>的首行注意添加</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;asidetitle&quot;</span>&gt;</span>最新评论<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后进入<code>\themes\jacman\_config.yml</code>：在<code>widgets</code>下添加<code>latest_comment</code>即可，注意Windows下编码一定要采用UTF-8无BOM编码。</p>
<h4 id="为jacman主题添加热评文章"><a href="#为jacman主题添加热评文章" class="headerlink" title="为jacman主题添加热评文章"></a>为jacman主题添加热评文章</h4><p>与上一条类似，首先在<code>\themes\jacman\layout\_widget</code>目录下新建<code>hot_comments.ejs</code>，然后去你在多说网站的后台管理界面<code>http://codepub.duoshuo.com/admin/tools/</code>中点击工具-&gt;热评文章获取代码，将代码复制到<code>hot_comments.ejs</code>文件中。同样在行首添加</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;asidetitle&quot;</span>&gt;</span>热评文章<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后在<code>_config.yml</code>中启用该widgets即可。</p>
<h4 id="Jacman主题问题解答"><a href="#Jacman主题问题解答" class="headerlink" title="Jacman主题问题解答"></a>Jacman主题问题解答</h4><p>Q：如何添加数学公式<code>mathjax</code>？<br>A：主题支持写<code>LaTex</code>数学公式。只需要在文章文件开头的<code>front-matter</code>中，加上一行<code>mathjax: true</code>，即可在文中写<code>LaTex</code>公式。</p>
<p>Q：自定义字体 ShowCustomFont<br>A：是否启用自定义字体，默认开启，主要用于显示网站底部的字体。如果你有一定前端基础可以修改 <strong>font.styl</strong> 替换为你喜欢的字体。</p>
<p>Q：图片默认都是居左的，我怎么设置能让图片居中呢？<br>A：使用 <code>&lt;img src=&quot;&quot; style=&quot;display:block;margin:auto&quot;/&gt;</code>的HTML标签或者是使用<code>&lt;center&gt;</code>包裹图片。</p>
<p>Q：如何建立一篇图片类文章（Gallery Post）？<br>A：使用<strong>hexo new photo “your titile”<strong>建立图片类文章，或者直接新建一个 Markdown 文件，将其</strong>front-matter</strong>修改为如下，即可看到主题为图片类文章提供的样式。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: photo</span><br><span class="line">title: Gallery Post</span><br><span class="line">photos:</span><br><span class="line">- http://i.minus.com/ibobbTlfxZgITW.jpg</span><br><span class="line">- http://i.minus.com/iedpg90Y0exFS.jpg</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>Q：我在配置文件中给某一项设置了值，但为什么总是看不到效果啊？<br>A：<code>_config.yml</code>文件中的每个属性值前面必须留一个空格，建议在<code>Sublime/Notepad++</code>中开启显示所有空格模式。另每篇文章的<code>front-matter</code>也要注意这个问题。</p>
<p>Q：如何建立自我介绍页面（About页面）？<br>A：首先在主目录找到<code>_config.yml</code>，找到url添加<code>about_dir: about</code>到这个板块。然后在&#x2F;source里面建立about文件夹。在about文件夹里建立index.md。编辑index.md就和发布其他的文章一样，格式都一样。</p>
<p>Q：楼主我不喜欢你的配色，怎么换主题的颜色呢？<br>A：包括颜色在内的很多变量都在<code>jacman/source/css/_base/variable.styl</code>文件中，可以修改成你喜欢的。</p>
<p><strong>参考文献</strong><br>[1] <a target="_blank" rel="noopener" href="http://wuchong.me/blog/2014/11/20/how-to-use-jacman/#">http://wuchong.me/blog/2014/11/20/how-to-use-jacman/#</a><br>[2] <a target="_blank" rel="noopener" href="https://pages.github.com/">https://pages.github.com/</a><br>[3] <a target="_blank" rel="noopener" href="http://www.jianshu.com/p/05289a4bc8b2">http://www.jianshu.com/p/05289a4bc8b2</a><br>[4] <a target="_blank" rel="noopener" href="http://www.pchou.info/web-build/2014/07/04/build-github-blog-page-08.html">http://www.pchou.info/web-build/2014/07/04/build-github-blog-page-08.html</a><br>[5] <a target="_blank" rel="noopener" href="http://wuchong.me/blog/2014/11/20/how-to-use-jacman/">http://wuchong.me/blog/2014/11/20/how-to-use-jacman/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2015/03/21/JS%E6%B7%B7%E6%B7%86%E5%8A%A0%E5%AF%86%E5%B7%A5%E5%85%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/21/JS%E6%B7%B7%E6%B7%86%E5%8A%A0%E5%AF%86%E5%B7%A5%E5%85%B7/" class="post-title-link" itemprop="url">JS混淆加密工具</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-21 15:03:24" itemprop="dateCreated datePublished" datetime="2015-03-21T15:03:24+08:00">2015-03-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:14:31" itemprop="dateModified" datetime="2024-01-24T10:14:31+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>H5小游戏愈来愈火爆，但是由于源代码是暴露的，因此很容易被复制。最近搜集了一些js混淆的工具，暂时先这样列在这里吧。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2015/03/21/JS%E6%B7%B7%E6%B7%86%E5%8A%A0%E5%AF%86%E5%B7%A5%E5%85%B7/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2015/03/08/%E8%B0%88%E8%B0%88css%E5%B1%85%E4%B8%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/08/%E8%B0%88%E8%B0%88css%E5%B1%85%E4%B8%AD/" class="post-title-link" itemprop="url">CSS居中</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-08 20:51:56" itemprop="dateCreated datePublished" datetime="2015-03-08T20:51:56+08:00">2015-03-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:14:31" itemprop="dateModified" datetime="2024-01-24T10:14:31+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>对于已知宽高的元素，无论垂直、水平居中相对来说都是比较容易的，因此主要是谈谈对于未知宽高的元素的水平垂直居中问题。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2015/03/08/%E8%B0%88%E8%B0%88css%E5%B1%85%E4%B8%AD/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2015/03/07/%E6%8A%93%E5%8C%85%E7%A5%9E%E5%99%A8Fiddler/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/03/07/%E6%8A%93%E5%8C%85%E7%A5%9E%E5%99%A8Fiddler/" class="post-title-link" itemprop="url">抓包神器Fiddler</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-07 15:49:27" itemprop="dateCreated datePublished" datetime="2015-03-07T15:49:27+08:00">2015-03-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:14:31" itemprop="dateModified" datetime="2024-01-24T10:14:31+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Fiddler是一款免费且功能强大的数据包抓取软件，它能够记录所有客户端和服务器间的HTTP(S)请求，允许你监视，设置断点，甚至修改输入输出数据，Fiddler包含了一个强大的基于事件脚本的子系统，并且能够使用.net框架语言扩展。所以无论你是从事什么开发，哪种语言，只要你想了解HTTP，这个工具就值得你去了解，而且更重要的一点，这个工具是免费的。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2015/03/07/%E6%8A%93%E5%8C%85%E7%A5%9E%E5%99%A8Fiddler/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2015/01/25/BCompare%20%E8%A7%A3%E5%86%B3%20windows%E6%96%87%E4%BB%B6%E4%B8%8Elinux%E6%96%87%E4%BB%B6%E6%AF%94%E5%AF%B9%E9%97%AE%E9%A2%98%EF%BC%88SFTP%E5%8D%8F%E8%AE%AE%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/01/25/BCompare%20%E8%A7%A3%E5%86%B3%20windows%E6%96%87%E4%BB%B6%E4%B8%8Elinux%E6%96%87%E4%BB%B6%E6%AF%94%E5%AF%B9%E9%97%AE%E9%A2%98%EF%BC%88SFTP%E5%8D%8F%E8%AE%AE%EF%BC%89/" class="post-title-link" itemprop="url">BCompare 解决 windows文件与linux文件比对问题（SFTP协议）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-01-25 00:00:00" itemprop="dateCreated datePublished" datetime="2015-01-25T00:00:00+08:00">2015-01-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:16:43" itemprop="dateModified" datetime="2024-01-24T10:16:43+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/BCompare/" itemprop="url" rel="index"><span itemprop="name">BCompare</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h1><p>运维人员可以依据此方法针对变化文件直接远程同步</p>
<ul>
<li>优点：操作轻量，非常快，避免项目整包上传，节省时间</li>
</ul>
<h1 id="先展示"><a href="#先展示" class="headerlink" title="先展示"></a>先展示</h1><ul>
<li><p>windos目录:<br>G:\workspace\wosai\Shopping\OnlineShoping\WebContent\WEB-INF</p>
</li>
<li><p>linux目录:<br>profile:<a href="mailto:&#x72;&#x6f;&#111;&#x74;&#64;&#x31;&#50;&#x31;&#x2e;&#52;&#48;&#x2e;&#x35;&#x30;&#46;&#x31;&#x35;&#x37;">&#x72;&#x6f;&#111;&#x74;&#64;&#x31;&#50;&#x31;&#x2e;&#52;&#48;&#x2e;&#x35;&#x30;&#46;&#x31;&#x35;&#x37;</a>?&#x2F;usr&#x2F;local&#x2F;apache-tomcat-6.0.32&#x2F;webapps&#x2F;ROOT&#x2F;WEB-INF</p>
</li>
</ul>
<p><img src="http://7xnbs3.com1.z0.glb.clouddn.com/16-6-16/56122133.jpg"></p>
<h1 id="保存会话-Shift-Ctrl-S"><a href="#保存会话-Shift-Ctrl-S" class="headerlink" title="保存会话: Shift+Ctrl+S"></a>保存会话: Shift+Ctrl+S</h1><p><img src="http://7xnbs3.com1.z0.glb.clouddn.com/16-6-16/40699125.jpg"></p>
<hr>
<h1 id="配置篇"><a href="#配置篇" class="headerlink" title="配置篇"></a>配置篇</h1><p>直接比对可能出现问题,原因是因为没有配置</p>
<h2 id="情况一-直接使用BCompare远程连接"><a href="#情况一-直接使用BCompare远程连接" class="headerlink" title="情况一: 直接使用BCompare远程连接"></a>情况一: 直接使用BCompare远程连接</h2><p><code>profile:root@121.40.50.157?/usr/local/apache-tomcat-6.0.32/webapps/ROOT/WEB-INF</code></p>
<p><img src="http://7xnbs3.com1.z0.glb.clouddn.com/16-6-16/76344883.jpg"></p>
<ul>
<li>处理:<br>使用sftp先建立远程连接</li>
</ul>
<p><img src="http://7xnbs3.com1.z0.glb.clouddn.com/16-6-16/10786977.jpg"></p>
<ul>
<li>再使用BCompare远程连接</li>
</ul>
<p><code>profile:root@121.40.50.157?/usr/local/apache-tomcat-6.0.32/webapps/ROOT/WEB-INF</code><br><img src="http://7xnbs3.com1.z0.glb.clouddn.com/16-6-16/13022252.jpg"></p>
<h2 id="情况二-直接使用sftp连接"><a href="#情况二-直接使用sftp连接" class="headerlink" title="情况二:  直接使用sftp连接"></a>情况二:  直接使用sftp连接</h2><p><code>sftp://root:*mima*@121.40.50.157?/usr/local/apache-tomcat-6.0.32/webapps/ROOT/WEB-INF</code></p>
<ul>
<li><p>未配置情况下,直接粘贴的地址,只能定位到根目录(上一级,有可能会出错,也可能不会)</p>
</li>
<li><p>上一级(可能性)出错</p>
<ul>
<li>处理</li>
</ul>
</li>
</ul>
<p>切换连接: <code>s ftp://root:*mima*@121.40.50.157?/usr/local/apache-tomcat-6.0.32/webapps/ROOT/WEB-INF </code>  为<code> BCompare远程连接</code></p>
<p><code>profile:root@121.40.50.157?/usr/local/apache-tomcat-6.0.32/webapps/ROOT/WEB-INF</code></p>
<ul>
<li>BCompare 针对性远程连接配置</li>
</ul>
<p><img src="http://7xnbs3.com1.z0.glb.clouddn.com/16-6-16/84080662.jpg"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2015/01/25/BCompare%20%E8%A7%A3%E5%86%B3%20windows%E6%96%87%E4%BB%B6%E4%B8%8Elinux%E6%96%87%E4%BB%B6%E6%AF%94%E5%AF%B9%E9%97%AE%E9%A2%98%EF%BC%88SFTP%E5%8D%8F%E8%AE%AE%EF%BC%89/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2015/01/13/ajax%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/01/13/ajax%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">ajax跨域问题解决方案</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-01-13 11:54:21" itemprop="dateCreated datePublished" datetime="2015-01-13T11:54:21+08:00">2015-01-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:14:31" itemprop="dateModified" datetime="2024-01-24T10:14:31+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>ajax跨域一直是个巨坑的问题。特别是在项目开发过程中，前后端接口调试的时候，一个跨域的问题可能会折腾后端很久，今天就来简单讲讲如何解决这个跨域。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2015/01/13/ajax%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.sovdating.com/2014/12/16/%E4%BD%BF%E7%94%A8cocos2d-js%E5%BC%80%E5%8F%91h5%E6%B8%B8%E6%88%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DJY">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sovdating Linux">
      <meta itemprop="description" content="Hello dev">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Sovdating Linux">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2014/12/16/%E4%BD%BF%E7%94%A8cocos2d-js%E5%BC%80%E5%8F%91h5%E6%B8%B8%E6%88%8F/" class="post-title-link" itemprop="url">使用cocos2d-js开发h5游戏</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2014-12-16 14:09:19" itemprop="dateCreated datePublished" datetime="2014-12-16T14:09:19+08:00">2014-12-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-01-24 10:14:31" itemprop="dateModified" datetime="2024-01-24T10:14:31+08:00">2024-01-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>最近一段时间，折腾了一下cocos2d-js，走过，坑过，跨过了一部分，还在加班填剩下的部分。好在今天终于抽出了点时间，因此便想要总结一下。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2014/12/16/%E4%BD%BF%E7%94%A8cocos2d-js%E5%BC%80%E5%8F%91h5%E6%B8%B8%E6%88%8F/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/50/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/50/">50</a><span class="page-number current">51</span><a class="page-number" href="/page/52/">52</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/52/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">DJY</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
